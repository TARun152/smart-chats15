(this["webpackJsonpsmart-chats"]=this["webpackJsonpsmart-chats"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var s=n(1),i=n.n(s),c=n(66),a=n.n(c),l=(n(98),n(67)),r=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,144)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),s(e),i(e),c(e),a(e)}))},o=n(7),d=n(143),u=n(0);a.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(d.a,{children:Object(u.jsx)(o.b,{children:Object(u.jsx)(l.a,{})})})}),document.getElementById("root")),r()},28:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var s=n(2),i=n.n(s),c=n(6),a=n(3),l=n(1),r=n(5),o=n(9),d=n(7),u=n(8),j=n(4),b=n.n(j),v=n(0);function h(){var t=Object(r.g)(),n=Object(l.useContext)(d.a),s=n.user,j=n.dispatch,h=n.error,x=Object(l.useState)(""),p=Object(a.a)(x,2),f=p[0],O=p[1],m=function(){var n=Object(c.a)(i.a.mark((function n(s){var c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s.preventDefault(),n.next=3,b.a.get(e.Env.PORT+"api/users/find/".concat(f));case 3:c=n.sent,t.push("/search/".concat(f)),console.log(c.data);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(v.jsx)("div",{children:Object(v.jsx)("nav",{className:"navbar fixed-top navbar-expand-md navbar-dark",style:{backgroundColor:"#1877f2"},children:Object(v.jsxs)("div",{className:"container-fluid",children:[Object(v.jsxs)("div",{className:"navbar-brand",style:{display:"flex",alignItems:"center"},children:[Object(v.jsxs)("div",{class:"dropend",children:[Object(v.jsx)("img",{type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",src:(null===s||void 0===s?void 0:s.profilePicture)?null===s||void 0===s?void 0:s.profilePicture:u.a,alt:"",width:32,height:32,className:"rounded-circle me-2 dropdown-toggle"}),Object(v.jsxs)("ul",{class:"dropdown-menu",children:[Object(v.jsx)("li",{children:Object(v.jsx)(o.b,{to:"/profile/".concat(null===s||void 0===s?void 0:s.name),class:"dropdown-item",children:Object(v.jsx)("b",{children:"Profile"})})}),Object(v.jsx)("li",{children:Object(v.jsx)(o.b,{className:"dropdown-item",to:"/messenger",children:Object(v.jsx)("b",{children:"Messages"})})}),Object(v.jsx)("li",{onClick:function(){sessionStorage.removeItem("token"),j({type:"LOGIN_FAILURE",payload:h}),t.push("/login")},style:{cursor:"pointer"},class:"dropdown-item",children:Object(v.jsx)("b",{children:"Log out"})})]})]}),Object(v.jsx)("b",{children:"Smart-Chats"})]}),Object(v.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)("span",{className:"navbar-toggler-icon"})}),Object(v.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(v.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-md-0",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(o.b,{className:"nav-link active","aria-current":"page",to:"/",children:"Homepage"})}),Object(v.jsx)("li",{className:"nav-item hide",style:{alignItems:"center"},children:Object(v.jsx)(o.b,{to:"/messenger",children:Object(v.jsx)("i",{className:"fas fa-comment-alt nav-link active"})})})]}),Object(v.jsxs)("form",{className:"d-flex",onSubmit:m,children:[Object(v.jsx)("input",{value:f,onChange:function(e){return O(e.target.value)},className:"form-control me-2",type:"search",placeholder:"Search for friends","aria-label":"Search",style:{width:"30vw",borderRadius:"2vh",border:"solid black .2vh"}}),Object(v.jsxs)("button",{className:"btn",type:"submit",style:{display:"flex",alignItems:"center",backgroundColor:"#1877f2"},children:[" ",Object(v.jsx)("i",{className:"fas fa-search"})]})]})]})]})})})}}).call(this,n(10))},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(46);n(133);s.a.initializeApp({apiKey:"AIzaSyAH5d3Wjr_NgyJgdx9ra7WjZOzmVx08eHk",authDomain:"fir-react-upload-391f1.firebaseapp.com",projectId:"fir-react-upload-391f1",storageBucket:"fir-react-upload-391f1.appspot.com",messagingSenderId:"815346693654",appId:"1:815346693654:web:9d67a268ca505c96fa6737",measurementId:"G-J6R2THCK2K"});var i=s.a.storage()},37:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var s=n(2),i=n.n(s),c=n(6),a=n(4),l=n.n(a),r=n(1),o=n(5),d=n(9),u=n(0);function j(){var t=Object(r.useRef)(),n=Object(r.useRef)(),s=Object(r.useRef)(),a=Object(r.useRef)(),j=Object(o.g)(),b=function(){var r=Object(c.a)(i.a.mark((function c(r){var o;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r.preventDefault(),s.current.value===a.current.value){i.next=5;break}s.current.setCustomValidity("Passwords don't match"),i.next=15;break;case 5:return o={name:t.current.value,email:n.current.value,password:s.current.value,cpassword:a.current.value},i.prev=6,i.next=9,l.a.post(e.Env.PORT+"api/auth",o);case 9:j.push("/login"),i.next=15;break;case 12:i.prev=12,i.t0=i.catch(6),console.log(i.t0);case 15:case"end":return i.stop()}}),c,null,[[6,12]])})));return function(e){return r.apply(this,arguments)}}();return Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"rgb(198 195 195)"},children:[Object(u.jsxs)("div",{className:"responsive",children:[Object(u.jsx)("strong",{style:{fontSize:"70px"},children:Object(u.jsx)("span",{className:"badge bg-primary",children:"Smart-Chats"})}),Object(u.jsx)("p",{style:{fontSize:"25px",width:"25vw"},children:Object(u.jsx)("b",{children:" Connect with friends around world and chat with them."})})]}),Object(u.jsx)("div",{className:"w1",style:{backgroundColor:"white",position:"relative",left:"1vw",border:"solid #fcfaf8 1px",borderRadius:"10px"},children:Object(u.jsxs)("form",{action:"",className:"w1",style:{position:"relative",paddingBottom:"90px"},onSubmit:b,children:[Object(u.jsx)("input",{type:"text",style:{width:"90%",height:"50px",position:"relative",top:"15px",borderRadius:"10px",border:"solid #cfc9c9 2px"},placeholder:"Username without space",pattern:"^\\S+$",required:!0,ref:t}),Object(u.jsx)("input",{type:"email",style:{width:"90%",height:" 50px ",position:"relative",top:"30px",borderRadius:"10px",border:"solid #cfc9c9 2px"},placeholder:"Email",required:!0,ref:n}),Object(u.jsx)("input",{type:"password",style:{width:"90%",height:"50px",position:"relative",top:"45px",borderRadius:"10px",border:"solid #cfc9c9 2px"},placeholder:"Password",required:!0,ref:s,minLength:"6"}),Object(u.jsx)("input",{type:"password",style:{width:"90%",height:"50px",position:"relative",top:"60px",borderRadius:"10px",border:"solid #cfc9c9 2px"},placeholder:"Confirm Password",required:!0,ref:a,minLength:"6"}),Object(u.jsx)("button",{className:"btn btn-primary",style:{width:"90%",height:"50px",position:"relative",top:"75px",borderRadius:"10px"},type:"submit",children:Object(u.jsx)("b",{children:"Sign Up"})}),Object(u.jsx)("div",{style:{width:"90%",height:"50px",display:"flex",justifyContent:"center",position:"relative",top:"90px",textAlign:"center"},children:Object(u.jsxs)("b",{children:["Already have an account?",Object(u.jsx)(d.b,{to:"/login",children:"Log In"})]})})]})})]})}}).call(this,n(10))},40:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var s=n(2),i=n.n(s),c=n(6),a=n(3),l=n(1),r=n(8),o=n(4),d=n.n(o),u=n(0);function j(t){var n=Object(l.useState)({}),s=Object(a.a)(n,2),o=s[0],j=s[1];return Object(l.useEffect)((function(){var n=function(){var n=Object(c.a)(i.a.mark((function n(){var s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.get(e.Env.PORT+"api/users/".concat(t.id));case 2:s=n.sent,j(s.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[t.id]),Object(u.jsxs)("div",{className:"d-flex align-items-center nav-link link-dark text-decoration-none",children:[Object(u.jsx)("img",{src:o.profilePicture?o.profilePicture:r.a,alt:"",width:32,height:32,className:"rounded-circle me-2"}),Object(u.jsx)("span",{className:"position-absolute top-1 start-1 translate-middle p-2 bg-success border border-light rounded-circle",children:Object(u.jsx)("span",{className:"visually-hidden",children:"New alerts"})}),Object(u.jsx)("strong",{children:o.name})]})}}).call(this,n(10))},45:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var s=n(2),i=n.n(s),c=n(6),a=n(3),l=n(1),r=n(4),o=n.n(r),d=n(8),u=n(48),j=n(7),b=n(5),v=n(9),h=n(0);function x(t){var n,s=Object(l.useContext)(j.a).user,r=Object(l.useState)({}),x=Object(a.a)(r,2),p=x[0],f=x[1],O=Object(l.useState)(),m=Object(a.a)(O,2),g=m[0],y=m[1],w=Object(l.useState)(t.post.likes.length),k=Object(a.a)(w,2),C=k[0],S=k[1],N=Object(l.useState)(),_=Object(a.a)(N,2),R=_[0],P=_[1],E=Object(b.g)();console.log(t.post),Object(l.useEffect)((function(){y(t.post.likes.includes(null===s||void 0===s?void 0:s._id))}),[s]),Object(l.useEffect)((function(){P(g?"fas":"far")}),[g]),Object(l.useEffect)((function(){var n=function(){var n=Object(c.a)(i.a.mark((function n(){var s,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.get(e.Env.PORT+"api/users/".concat(null===(s=t.post)||void 0===s?void 0:s.userId));case 2:c=n.sent,f(c.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[null===(n=t.post)||void 0===n?void 0:n.userId]);var I=function(){var n=Object(c.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return S(g?C-1:C+1),P(g?"far":"fas"),y(!g),n.next=5,o.a.put(e.Env.PORT+"api/posts/".concat(t.post._id,"/like"),{userId:s._id});case 5:console.log(p._id),console.log(s._id);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),F=function(){var n=Object(c.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("Are you sure,you want to delete this post??")){n.next=5;break}return n.next=3,o.a.delete(e.Env.PORT+"api/posts/".concat(t.post._id));case 3:"successfully deleted"===n.sent.data&&E.push("/");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"card mb-3",style:{position:"relative",top:"8px"},children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsxs)("div",{className:"card-title d-flex justify-content-between",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(v.b,{to:"/profile/".concat(null===p||void 0===p?void 0:p.name),children:Object(h.jsx)("img",{src:(null===p||void 0===p?void 0:p.profilePicture)?null===p||void 0===p?void 0:p.profilePicture:d.a,alt:"",width:32,height:32,className:"rounded-circle me-2"})}),Object(h.jsx)("strong",{children:null===p||void 0===p?void 0:p.name}),Object(h.jsx)("small",{style:{position:"relative",left:"1.5vw"},children:Object(u.a)(t.post.createdAt)})]}),Object(h.jsx)("i",{style:{cursor:"pointer",display:(null===s||void 0===s?void 0:s._id)!==(null===p||void 0===p?void 0:p._id)||!1===t.bool?"none":""},onClick:F,class:"fas fa-trash"})]}),Object(h.jsx)("p",{children:Object(h.jsx)("strong",{children:t.post.desc})}),Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(h.jsx)("img",{style:{maxWidth:"100%"},src:t.post.img,alt:""})}),Object(h.jsxs)("div",{style:{position:"relative",top:"5px",display:"flex",alignItems:"center",paddingTop:"10px"},children:[Object(h.jsx)("i",{onClick:I,style:{cursor:"pointer"},className:"".concat(R," fa-heart fa-2x")}),Object(h.jsxs)("span",{style:{position:"relative",left:".6vw"},children:[C," likes"]})]})]})})}}).call(this,n(10))},49:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var s=n(2),i=n.n(s),c=n(6),a=n(3),l=n(4),r=n.n(l),o=n(1),d=n(8),u=n(0);function j(t){var n=Object(o.useState)(null),s=Object(a.a)(n,2),l=s[0],j=s[1];return Object(o.useEffect)((function(){var n=function(){var n=Object(c.a)(i.a.mark((function n(){var s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.get(e.Env.PORT+"api/users/".concat(t.conversation));case 2:s=n.sent,j(s.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),Object(u.jsxs)("div",{className:"d-flex align-items-center nav-link link-dark text-decoration-none",style:{cursor:"pointer"},children:[Object(u.jsx)("img",{src:(null===l||void 0===l?void 0:l.profilePicture)?null===l||void 0===l?void 0:l.profilePicture:d.a,alt:"",width:32,height:32,className:"rounded-circle me-2"}),Object(u.jsx)("strong",{children:null===l||void 0===l?void 0:l.name})]})}}).call(this,n(10))},57:function(e,t,n){"use strict";n(1),n(0)},67:function(e,t,n){"use strict";(function(e){var s=n(3),i=n(2),c=n.n(i),a=n(6),l=(n(100),n(101),n(92)),r=n(72),o=n(81),d=n(37),u=n(84),j=n(7),b=n(89),v=n(90),h=n(9),x=n(5),p=n(1),f=n(4),O=n.n(f),m=n(0);t.a=function(){var t=Object(p.useContext)(j.a),n=t.user,i=t.dispatch,f=function(){var t=Object(a.a)(c.a.mark((function t(n){var s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get(e.Env.PORT+"api/users/".concat(n));case 2:s=t.sent,i({type:"LOGIN_SUCCESS",payload:s.data}),console.log(s.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=Object(p.useState)(0),y=Object(s.a)(g,2),w=y[0],k=y[1],C=function(){var t=Object(a.a)(c.a.mark((function t(n){var s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get(e.Env.PORT+"api/auth/verify",{headers:{token:n}});case 3:s=t.sent,f(s.data._id),console.log(s.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(p.useEffect)((function(){sessionStorage.getItem("token")&&C(sessionStorage.getItem("token"))}),[]),Object(m.jsxs)(h.a,{basename:window.location.pathname||"",children:[Object(m.jsx)(b.a,{color:"white",height:"3px",progress:w}),Object(m.jsxs)(x.d,{children:[Object(m.jsx)(x.b,{exact:!0,path:"/",children:n||sessionStorage.getItem("token")?Object(m.jsx)(l.a,{}):Object(m.jsx)(d.a,{})}),Object(m.jsx)(x.b,{exact:!0,path:"/messenger",children:n||sessionStorage.getItem("token")?Object(m.jsx)(u.a,{}):Object(m.jsx)(d.a,{})}),Object(m.jsx)(x.b,{exact:!0,path:"/login",children:n||sessionStorage.getItem("token")?Object(m.jsx)(x.a,{to:"/"}):Object(m.jsx)(o.a,{})}),Object(m.jsx)(x.b,{exact:!0,path:"/signup",children:n||sessionStorage.getItem("token")?Object(m.jsx)(x.a,{to:"/"}):Object(m.jsx)(d.a,{})}),Object(m.jsx)(x.b,{exact:!0,path:"/profile/:username",children:n||sessionStorage.getItem("token")?Object(m.jsx)(r.a,{progress:k}):Object(m.jsx)(d.a,{})}),Object(m.jsx)(x.b,{exact:!0,path:"/search/:username",children:n||sessionStorage.getItem("token")?Object(m.jsx)(v.a,{}):Object(m.jsx)(d.a,{})})]})]})}}).call(this,n(10))},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var s=n(3),i=n(1),c=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:t.payload};default:return e}},a=n(0),l={user:null,isFetching:!1,error:!1},r=Object(i.createContext)(l),o=function(e){var t=e.children,n=Object(i.useReducer)(c,l),o=Object(s.a)(n,2),d=o[0],u=o[1];return Object(a.jsx)(r.Provider,{value:{user:d.user,isFetching:d.isFetching,error:d.error,dispatch:u},children:t})}},70:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var s=n(2),i=n.n(s),c=n(6),a=n(3),l=n(4),r=n.n(l),o=n(1),d=n(7),u=n(45),j=n(9),b=n(8),v=n(0);function h(){var t=Object(o.useContext)(d.a).user,n=Object(o.useState)([]),s=Object(a.a)(n,2),l=s[0],h=s[1],x=Object(o.useState)(null),p=Object(a.a)(x,2),f=p[0],O=p[1];return Object(o.useEffect)((function(){var n=function(){var n=Object(c.a)(i.a.mark((function n(){var s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.get(e.Env.PORT+"api/posts/timeline/".concat(null===t||void 0===t?void 0:t._id));case 3:s=n.sent,O(s.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}))),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();n();var s=function(){var t=Object(c.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.get(e.Env.PORT+"api/users/");case 2:n=t.sent,h(n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();s()}),[t]),Object(v.jsx)("div",{children:0!==(null===f||void 0===f?void 0:f.length)?Object(v.jsx)(v.Fragment,{children:null===f||void 0===f?void 0:f.map((function(e){return Object(v.jsx)(u.a,{post:e,bool:!1})}))}):Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{textAlign:"center",paddingTop:"10px",paddingBottom:"10px"},children:Object(v.jsx)("h1",{children:Object(v.jsx)("b",{children:"Follow these people to see their post:-"})})}),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("ul",{className:"nav nav-pills flex-column mb-auto py-2",children:l.map((function(e){return Object(v.jsx)("li",{className:"nav-link link-dark text-decoration-none",children:Object(v.jsxs)("div",{className:"d-flex card-body",children:[Object(v.jsx)(j.b,{to:"/profile/".concat(null===e||void 0===e?void 0:e.name),children:Object(v.jsx)("div",{style:{height:"13vw",width:"13vw",display:"flex",justifyContent:"center",alignItems:"center",border:"solid white 3px",backgroundColor:"black",overflow:"hidden"},class:"avatar rounded-circle",children:Object(v.jsx)("img",{src:(null===e||void 0===e?void 0:e.profilePicture)?null===e||void 0===e?void 0:e.profilePicture:b.a,alt:"",style:{maxHeight:"100%",maxWidth:"100%"}})})}),Object(v.jsx)("div",{style:{width:"60%",height:"13vw",position:"relative",left:"3vw",display:"flex",alignItems:"center"},children:Object(v.jsxs)("ul",{style:{listStyle:"none",fontSize:"2vw"},children:[Object(v.jsx)("li",{children:Object(v.jsx)("strong",{children:null===e||void 0===e?void 0:e.name})}),Object(v.jsxs)("li",{children:[Object(v.jsx)("b",{children:"City:"})," ",(null===e||void 0===e?void 0:e.city)?null===e||void 0===e?void 0:e.city:"Unknown"]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("b",{children:"From:"})," ",(null===e||void 0===e?void 0:e.from)?null===e||void 0===e?void 0:e.from:"Unknown"]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("b",{children:"Relationship Status:"})," ",(null===e||void 0===e?void 0:e.relationship)?null===e||void 0===e?void 0:e.relationship:"Unknown"]})]})})]})})}))})})]})})}}).call(this,n(10))},72:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var s=n(2),i=n.n(s),c=n(6),a=n(3),l=n(1),r=n(5),o=n(73),d=n(76),u=(n(57),n(28)),j=n(78),b=n(4),v=n.n(b),h=n(80),x=n(7),p=n(0);function f(t){var n=Object(l.useState)(null),s=Object(a.a)(n,2),b=s[0],f=s[1],O=Object(l.useContext)(x.a).user,m=Object(r.h)().username;return Object(l.useEffect)((function(){var t=function(){var t=Object(c.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get(e.Env.PORT+"api/users/name/".concat(m));case 2:n=t.sent,f(n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),window.scrollTo(0,0)}),[m]),Object(p.jsx)(p.Fragment,{children:null!==b&&null!==O?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(u.a,{}),Object(p.jsx)("div",{className:"d-flex",children:Object(p.jsxs)("div",{style:{position:"relative",top:"57px",left:"1vw"},children:[Object(p.jsx)(j.a,{user:b,progress:t.progress}),Object(p.jsx)(o.a,{user:b,progress:t.progress}),Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsx)("div",{className:"top",style:{paddingTop:"5px"},children:Object(p.jsx)(h.a,{user:b})}),Object(p.jsx)("div",{style:{position:"relative",top:"10px",left:"1vw"},children:Object(p.jsx)(d.a,{user:b})})]})]})})]}):Object(p.jsx)("div",{})})}}).call(this,n(10))},73:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var s=n(2),i=n.n(s),c=n(6),a=n(3),l=n(1),r=n(8),o=n(30),d=n(4),u=n.n(d),j=n(7),b=n(5),v=n(75),h=n(0);function x(t){var n,s,d,x,p,f,O,m,g,y,w,k,C,S,N,_,R,P=Object(b.g)(),E=Object(l.useContext)(j.a).user,I=Object(l.useState)(null),F=Object(a.a)(I,2),T=F[0],U=F[1],L=Object(l.useRef)(),A=Object(l.useState)(null===(n=t.user)||void 0===n?void 0:n.followers.includes(null===E||void 0===E?void 0:E._id)),B=Object(a.a)(A,2),z=B[0],D=B[1],M=Object(l.useState)(null),W=Object(a.a)(M,2),H=W[0],G=W[1];Object(l.useEffect)((function(){var e,n,s;console.log(null===E||void 0===E?void 0:E._id),console.log(null===(e=t.user)||void 0===e?void 0:e._id),console.log(null===(n=t.user)||void 0===n?void 0:n.followers.includes(null===E||void 0===E?void 0:E._id)),D(null===(s=t.user)||void 0===s?void 0:s.followers.includes(null===E||void 0===E?void 0:E._id))}),[E,null===(s=t.user)||void 0===s?void 0:s._id]),Object(l.useEffect)((function(){var e,n,s,i,c=null===(e=t.user)||void 0===e?void 0:e.following;(null===(n=t.user)||void 0===n?void 0:n.following)?c=c.concat(null===(s=t.user)||void 0===s?void 0:s.followers.filter((function(e){var n;return!(null===(n=t.user)||void 0===n?void 0:n.following.includes(e))}))):c=null===(i=t.user)||void 0===i?void 0:i.followers;0!==c.length&&G(c)}),[t.user]);var q=function(){var n=Object(c.a)(i.a.mark((function n(){var s,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(z){n.next=7;break}return n.next=3,u.a.put(e.Env.PORT+"api/users/".concat(null===(s=t.user)||void 0===s?void 0:s._id,"/follow"),{userId:null===E||void 0===E?void 0:E._id});case 3:"you are following"===n.sent.data&&window.location.reload(),n.next=11;break;case 7:return n.next=9,u.a.put(e.Env.PORT+"api/users/".concat(null===(c=t.user)||void 0===c?void 0:c._id,"/unfollow"),{userId:null===E||void 0===E?void 0:E._id});case 9:"you are unfollowing"===n.sent.data&&window.location.reload();case 11:D(!z);case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),J=function(){var t=Object(c.a)(i.a.mark((function t(n){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""===X&&""===Q&&""===se&&""===le){t.next=10;break}return t.next=4,u.a.put(e.Env.PORT+"api/users/".concat(null===E||void 0===E?void 0:E._id),{city:""!==X?X:E.city,from:""!==Q?Q:E.from,relationship:""!==se?se:E.relationship,desc:""!==le?le:E.desc});case 4:s=t.sent,Y(""),ee(""),ie(""),re(""),"successfully updated"===s.data&&window.location.reload();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=Object(l.useState)(""),V=Object(a.a)(K,2),X=V[0],Y=V[1],Z=Object(l.useState)(""),$=Object(a.a)(Z,2),Q=$[0],ee=$[1],te=Object(l.useState)(""),ne=Object(a.a)(te,2),se=ne[0],ie=ne[1],ce=Object(l.useState)(""),ae=Object(a.a)(ce,2),le=ae[0],re=ae[1];return Object(h.jsx)(h.Fragment,{children:null!==t.user&&null!==E?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"card mb-3 upload",style:{position:"relative",top:"15px",display:(null===E||void 0===E?void 0:E._id)!==(null===(d=t.user)||void 0===d?void 0:d._id)?"none":""},children:Object(h.jsx)("div",{className:"card-body",children:Object(h.jsxs)("form",{onSubmit:function(n){n.preventDefault(),t.progress(10);var s=o.a.ref("images/".concat(null===T||void 0===T?void 0:T.name)).put(T);t.progress(30),s.on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){o.a.ref("images").child(T.name).getDownloadURL().then((function(n){t.progress(70),u.a.post(e.Env.PORT+"api/posts",{userId:t.user._id,img:n,desc:L.current.value}).then(t.progress(100),P.push("/"))}))}))},children:[Object(h.jsxs)("div",{className:"card-title d-flex",children:[Object(h.jsx)("img",{src:(null===(x=t.user)||void 0===x?void 0:x.profilePicture)?null===(p=t.user)||void 0===p?void 0:p.profilePicture:r.a,alt:"",width:40,height:40,className:"rounded-circle me-2"}),Object(h.jsx)("input",{className:"textarea",style:{border:"none",outline:"none",position:"relative",left:"1vw"},id:"",placeholder:"What's in your mind...",ref:L})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"row row-cols-sm-1 row-cols-md-3 align-items-stretch g-2",style:{position:"relative",top:"3vh",paddingBottom:"30px"},children:[Object(h.jsxs)("div",{className:"col",style:{position:"relative",left:"2vw"},children:[Object(h.jsx)("i",{class:"far fa-images fa-2x"}),Object(h.jsx)("b",{children:"   Upload images"})]}),Object(h.jsx)("input",{style:{position:"relative",left:"2vw"},type:"file",id:"file",onChange:function(e){e.target.files[0]&&U(e.target.files[0])}}),Object(h.jsx)("div",{style:{position:"relative",left:"2vw"},children:Object(h.jsx)("button",{className:"btn btn-success",type:"submit",disabled:null===T?"true":"",children:"Share"})})]})]})})}),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"p-3 bg-light frnds",children:[Object(h.jsx)("button",{onClick:q,style:{display:(null===E||void 0===E?void 0:E._id)===(null===(f=t.user)||void 0===f?void 0:f._id)?"none":""},className:"btn btn-primary",children:z?"Unfollow":"Follow"}),Object(h.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto py-2",children:[Object(h.jsxs)("div",{style:{width:"80vw"},children:[Object(h.jsxs)("strong",{children:["About ",null===(O=t.user)||void 0===O?void 0:O.name]}),Object(h.jsx)("i",{style:{position:"relative",left:"5vw",display:(null===(m=t.user)||void 0===m?void 0:m._id)===E._id?"":"none"},type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal2",class:"far fa-edit"}),Object(h.jsx)("div",{class:"modal fade",id:"exampleModal2",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(h.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:Object(h.jsxs)("b",{children:["About ",null===(g=t.user)||void 0===g?void 0:g.name]})}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{class:"modal-body",children:Object(h.jsxs)("form",{onSubmit:J,children:[Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"city-name",class:"col-form-label",children:Object(h.jsx)("b",{children:"City:"})}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"city-name",value:X,onChange:function(e){return Y(e.target.value)}})]}),Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"from",class:"col-form-label",children:Object(h.jsx)("b",{children:"From:"})}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"from",value:Q,onChange:function(e){return ee(e.target.value)}})]}),Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"relation",class:"col-form-label",children:Object(h.jsx)("b",{children:"Relationship:"})}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"relation",value:se,onChange:function(e){return ie(e.target.value)}})]}),Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"desc",class:"col-form-label",children:Object(h.jsx)("b",{children:"Description:"})}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"desc",value:le,onChange:function(e){return re(e.target.value)}})]}),Object(h.jsxs)("div",{class:"modal-footer",children:[Object(h.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(h.jsx)("button",{class:"btn btn-primary","data-bs-dismiss":"modal",type:"submit",children:"Save changes"})]})]})})]})})}),Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"City:"})," ",(null===(y=t.user)||void 0===y?void 0:y.city)?null===(w=t.user)||void 0===w?void 0:w.city:"Unknown"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"From:"})," ",(null===(k=t.user)||void 0===k?void 0:k.from)?null===(C=t.user)||void 0===C?void 0:C.from:"Unknown"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"Relationship Status:"})," ",(null===(S=t.user)||void 0===S?void 0:S.relationship)?(null===(N=t.user)||void 0===N?void 0:N.relationship.length)>20?null===(_=t.user)||void 0===_?void 0:_.relationship.slice(0,20):null===(R=t.user)||void 0===R?void 0:R.relationship:"Unknown"]})]})]}),Object(h.jsx)("hr",{}),Object(h.jsx)("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop2",className:"btn btn-secondary",children:"Friends"}),Object(h.jsx)("div",{class:"modal fade",id:"staticBackdrop2","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(h.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:Object(h.jsx)("b",{children:"Friends"})}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{class:"modal-body",children:Object(h.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:null!==H?H.map((function(e){return Object(h.jsx)("li",{"data-bs-dismiss":"modal",children:Object(h.jsx)(v.a,{id:e})})})):Object(h.jsx)("div",{children:"No friends added"})})}),Object(h.jsx)("div",{class:"modal-footer",children:Object(h.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]})]})})]}):Object(h.jsx)("div",{})})}}).call(this,n(10))},75:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var s=n(2),i=n.n(s),c=n(6),a=n(3),l=n(1),r=n(8),o=n(4),d=n.n(o),u=n(9),j=n(0);function b(t){var n=Object(l.useState)({}),s=Object(a.a)(n,2),o=s[0],b=s[1];return Object(l.useEffect)((function(){var n=function(){var n=Object(c.a)(i.a.mark((function n(){var s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.get(e.Env.PORT+"api/users/".concat(t.id));case 2:s=n.sent,b(s.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[t.id]),Object(j.jsxs)("div",{className:"d-flex nav-link link-dark text-decoration-none",children:[Object(j.jsx)(u.b,{to:"/profile/".concat(null===o||void 0===o?void 0:o.name),children:Object(j.jsx)("div",{style:{height:"25vw",width:"25vw",display:"flex",justifyContent:"center",alignItems:"center",border:"solid white 3px",backgroundColor:"black",overflow:"hidden"},class:"avatar rounded-circle",children:Object(j.jsx)("img",{src:(null===o||void 0===o?void 0:o.profilePicture)?null===o||void 0===o?void 0:o.profilePicture:r.a,alt:"",style:{maxHeight:"100%",maxWidth:"100%"}})})}),Object(j.jsx)("div",{style:{width:"53vw",height:"25vw",position:"relative",left:"-2.5vw",display:"flex",alignItems:"center"},children:Object(j.jsxs)("ul",{style:{listStyle:"none",fontSize:"2.8vw"},children:[Object(j.jsx)("li",{children:Object(j.jsx)("strong",{children:null===o||void 0===o?void 0:o.name})}),Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"City:"})," ",(null===o||void 0===o?void 0:o.city)?null===o||void 0===o?void 0:o.city:"Unknown"]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"From:"})," ",(null===o||void 0===o?void 0:o.from)?null===o||void 0===o?void 0:o.from:"Unknown"]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"Relationship Status:"})," ",(null===o||void 0===o?void 0:o.relationship)?(null===o||void 0===o?void 0:o.relationship.length)>20?(null===o||void 0===o?void 0:o.relationship.slice(0,20))+"...":null===o||void 0===o?void 0:o.relationship:"Unknown"]})]})})]})}}).call(this,n(10))},76:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var s=n(2),i=n.n(s),c=n(6),a=n(3),l=n(4),r=n.n(l),o=n(1),d=n(7),u=n(77),j=n(0);function b(t){var n,s,l,b,v,h,x,p,f,O,m,g,y,w,k=Object(o.useContext)(d.a).user,C=Object(o.useState)(null===(n=t.user)||void 0===n?void 0:n.followers.includes(null===k||void 0===k?void 0:k._id)),S=Object(a.a)(C,2),N=S[0],_=S[1],R=Object(o.useState)(null),P=Object(a.a)(R,2),E=P[0],I=P[1];Object(o.useEffect)((function(){var e,n,s;console.log(null===k||void 0===k?void 0:k._id),console.log(null===(e=t.user)||void 0===e?void 0:e._id),console.log(null===(n=t.user)||void 0===n?void 0:n.followers.includes(null===k||void 0===k?void 0:k._id)),_(null===(s=t.user)||void 0===s?void 0:s.followers.includes(null===k||void 0===k?void 0:k._id))}),[k,null===(s=t.user)||void 0===s?void 0:s._id]),Object(o.useEffect)((function(){var e,n,s,i,c=null===(e=t.user)||void 0===e?void 0:e.following;(null===(n=t.user)||void 0===n?void 0:n.following)?c=c.concat(null===(s=t.user)||void 0===s?void 0:s.followers.filter((function(e){var n;return!(null===(n=t.user)||void 0===n?void 0:n.following.includes(e))}))):c=null===(i=t.user)||void 0===i?void 0:i.followers;0!==c.length&&I(c)}),[t.user]);var F=function(){var n=Object(c.a)(i.a.mark((function n(){var s,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(N){n.next=7;break}return n.next=3,r.a.put(e.Env.PORT+"api/users/".concat(null===(s=t.user)||void 0===s?void 0:s._id,"/follow"),{userId:null===k||void 0===k?void 0:k._id});case 3:"you are following"===n.sent.data&&window.location.reload(),n.next=11;break;case 7:return n.next=9,r.a.put(e.Env.PORT+"api/users/".concat(null===(c=t.user)||void 0===c?void 0:c._id,"/unfollow"),{userId:null===k||void 0===k?void 0:k._id});case 9:"you are unfollowing"===n.sent.data&&window.location.reload();case 11:_(!N);case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),T=function(){var t=Object(c.a)(i.a.mark((function t(n){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""===A&&""===M&&""===q&&""===X){t.next=10;break}return t.next=4,r.a.put(e.Env.PORT+"api/users/".concat(null===k||void 0===k?void 0:k._id),{city:""!==A?A:k.city,from:""!==M?M:k.from,relationship:""!==q?q:k.relationship,desc:""!==X?X:k.desc});case 4:s=t.sent,B(""),W(""),J(""),Y(""),"successfully updated"===s.data&&window.location.reload();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=Object(o.useState)(""),L=Object(a.a)(U,2),A=L[0],B=L[1],z=Object(o.useState)(""),D=Object(a.a)(z,2),M=D[0],W=D[1],H=Object(o.useState)(""),G=Object(a.a)(H,2),q=G[0],J=G[1],K=Object(o.useState)(""),V=Object(a.a)(K,2),X=V[0],Y=V[1];return Object(j.jsxs)("div",{className:"p-3 bg-light right",children:[Object(j.jsx)("button",{onClick:F,style:{display:(null===k||void 0===k?void 0:k._id)===(null===(l=t.user)||void 0===l?void 0:l._id)?"none":""},className:"btn btn-primary",children:N?"Unfollow":"Follow"}),Object(j.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto py-2",children:[Object(j.jsxs)("div",{style:{width:"28vw"},children:[Object(j.jsxs)("strong",{children:["About ",null===(b=t.user)||void 0===b?void 0:b.name]}),Object(j.jsx)("i",{style:{position:"relative",left:"5vw",display:(null===(v=t.user)||void 0===v?void 0:v._id)===k._id?"":"none"},type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal4",class:"far fa-edit"}),Object(j.jsx)("div",{class:"modal fade",id:"exampleModal4",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(j.jsx)("div",{class:"modal-dialog",children:Object(j.jsxs)("div",{class:"modal-content",children:[Object(j.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(j.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:Object(j.jsxs)("b",{children:["About ",null===(h=t.user)||void 0===h?void 0:h.name]})}),Object(j.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{class:"modal-body",children:Object(j.jsxs)("form",{onSubmit:T,children:[Object(j.jsxs)("div",{class:"mb-3",children:[Object(j.jsx)("label",{for:"city-name",class:"col-form-label",children:Object(j.jsx)("b",{children:"City:"})}),Object(j.jsx)("input",{type:"text",class:"form-control",id:"city-name",value:A,onChange:function(e){return B(e.target.value)}})]}),Object(j.jsxs)("div",{class:"mb-3",children:[Object(j.jsx)("label",{for:"from",class:"col-form-label",children:Object(j.jsx)("b",{children:"From:"})}),Object(j.jsx)("input",{type:"text",class:"form-control",id:"from",value:M,onChange:function(e){return W(e.target.value)}})]}),Object(j.jsxs)("div",{class:"mb-3",children:[Object(j.jsx)("label",{for:"relation",class:"col-form-label",children:Object(j.jsx)("b",{children:"Relationship:"})}),Object(j.jsx)("input",{type:"text",class:"form-control",id:"relation",value:q,onChange:function(e){return J(e.target.value)}})]}),Object(j.jsxs)("div",{class:"mb-3",children:[Object(j.jsx)("label",{for:"desc",class:"col-form-label",children:Object(j.jsx)("b",{children:"Description:"})}),Object(j.jsx)("input",{type:"text",class:"form-control",id:"desc",value:X,onChange:function(e){return Y(e.target.value)}})]}),Object(j.jsxs)("div",{class:"modal-footer",children:[Object(j.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{class:"btn btn-primary","data-bs-dismiss":"modal",type:"submit",children:"Save changes"})]})]})})]})})}),Object(j.jsxs)("ul",{children:[Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"City:"})," ",(null===(x=t.user)||void 0===x?void 0:x.city)?null===(p=t.user)||void 0===p?void 0:p.city:"Unknown"]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"From:"})," ",(null===(f=t.user)||void 0===f?void 0:f.from)?null===(O=t.user)||void 0===O?void 0:O.from:"Unknown"]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"Relationship Status:"})," ",(null===(m=t.user)||void 0===m?void 0:m.relationship)?(null===(g=t.user)||void 0===g?void 0:g.relationship.length)>20?null===(y=t.user)||void 0===y?void 0:y.relationship.slice(0,20):null===(w=t.user)||void 0===w?void 0:w.relationship:"Unknown"]})]})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("strong",{style:{fontSize:"30px"},children:"Friends"}),null!==E?E.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(u.a,{id:e})})})):Object(j.jsx)("div",{children:"No friends added"})]})]})}}).call(this,n(10))},77:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var s=n(2),i=n.n(s),c=n(6),a=n(3),l=n(1),r=n(8),o=n(4),d=n.n(o),u=n(9),j=n(0);function b(t){var n=Object(l.useState)({}),s=Object(a.a)(n,2),o=s[0],b=s[1];return Object(l.useEffect)((function(){var n=function(){var n=Object(c.a)(i.a.mark((function n(){var s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.get(e.Env.PORT+"api/users/".concat(t.id));case 2:s=n.sent,b(s.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[t.id]),Object(j.jsxs)("div",{className:"d-flex nav-link link-dark text-decoration-none",children:[Object(j.jsx)(u.b,{to:"/profile/".concat(null===o||void 0===o?void 0:o.name),children:Object(j.jsx)("div",{style:{height:"12vw",width:"12vw",display:"flex",justifyContent:"center",alignItems:"center",border:"solid white 3px",backgroundColor:"black",overflow:"hidden",position:"relative",left:"-1.5vw"},class:"avatar rounded-circle",children:Object(j.jsx)("img",{src:(null===o||void 0===o?void 0:o.profilePicture)?null===o||void 0===o?void 0:o.profilePicture:r.a,alt:"",style:{maxHeight:"100%",maxWidth:"100%"}})})}),Object(j.jsx)("div",{style:{width:"14vw",height:"12svw",position:"relative",left:"-2.5vw",display:"flex",alignItems:"center"},children:Object(j.jsxs)("ul",{style:{listStyle:"none",fontSize:"1.3vw"},children:[Object(j.jsx)("li",{children:Object(j.jsx)("strong",{children:null===o||void 0===o?void 0:o.name})}),Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"City:"})," ",(null===o||void 0===o?void 0:o.city)?null===o||void 0===o?void 0:o.city:"Unknown"]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"From:"})," ",(null===o||void 0===o?void 0:o.from)?null===o||void 0===o?void 0:o.from:"Unknown"]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"Relationship Status:"})," ",(null===o||void 0===o?void 0:o.relationship)?null===o||void 0===o?void 0:o.relationship:"Unknown"]})]})})]})}}).call(this,n(10))},78:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var s=n(3),i=n(1),c=n(79),a=n(8),l=n(7),r=n(30),o=n(4),d=n.n(o),u=n(5),j=n(0);function b(t){var n,o,b,v,h,x,p,f=Object(i.useContext)(l.a).user,O=Object(i.useState)(null),m=Object(s.a)(O,2),g=m[0],y=m[1],w=Object(i.useState)(null),k=Object(s.a)(w,2),C=k[0],S=k[1],N=Object(u.g)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"dp",children:[Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"85%",backgroundColor:"#535151"},className:"dp",children:Object(j.jsx)("img",{style:{maxWidth:"100%",height:"100%"},src:(null===(n=t.user)||void 0===n?void 0:n.coverPicture)?null===(o=t.user)||void 0===o?void 0:o.coverPicture:c.a,alt:""})}),Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center",position:"relative",top:"-14vw"},children:Object(j.jsx)("div",{style:{height:"20vw",width:"20vw",display:"flex",justifyContent:"center",alignItems:"center",border:"solid white 3px",backgroundColor:"black",overflow:"hidden"},class:"avatar rounded-circle",children:Object(j.jsx)("img",{src:(null===(b=t.user)||void 0===b?void 0:b.profilePicture)?null===(v=t.user)||void 0===v?void 0:v.profilePicture:a.a,alt:"",style:{maxHeight:"100%",maxWidth:"100%"}})})}),Object(j.jsx)("strong",{style:{display:"flex",justifyContent:"center",position:"relative",top:"-13vw",width:"100%"},children:null===(h=t.user)||void 0===h?void 0:h.name})]}),Object(j.jsx)("div",{className:"dp1",children:Object(j.jsx)("strong",{style:{display:"flex",justifyContent:"center",width:"100%",textAlign:"center"},children:null===(x=t.user)||void 0===x?void 0:x.desc})}),Object(j.jsxs)("div",{style:{display:(null===f||void 0===f?void 0:f._id)!==(null===(p=t.user)||void 0===p?void 0:p._id)?"none":""},className:"padding",children:[Object(j.jsxs)("div",{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:[Object(j.jsx)("i",{class:"fas fa-camera fa-2x"}),Object(j.jsx)("b",{children:" Update profile picture"})]}),Object(j.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(j.jsx)("div",{class:"modal-dialog",children:Object(j.jsxs)("div",{class:"modal-content",children:[Object(j.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(j.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:Object(j.jsx)("b",{children:"Upload profile picture"})}),Object(j.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{class:"modal-body",children:Object(j.jsxs)("form",{onSubmit:function(n){n.preventDefault(),t.progress(10);var s=r.a.ref("images/".concat(null===g||void 0===g?void 0:g.name)).put(g);t.progress(30),s.on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){r.a.ref("images").child(null===g||void 0===g?void 0:g.name).getDownloadURL().then((function(n){var s;t.progress(70),d.a.put(e.Env.PORT+"api/users/".concat(null===(s=t.user)||void 0===s?void 0:s._id),{profilePicture:n}).then(t.progress(100),N.push("/"))}))}))},children:[Object(j.jsxs)("div",{class:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"file"}),Object(j.jsx)("input",{id:"file",type:"file",onChange:function(e){e.target.files[0]&&y(e.target.files[0])}})]}),Object(j.jsxs)("div",{class:"modal-footer",children:[Object(j.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{className:"btn btn-primary","data-bs-dismiss":"modal",type:"submit",disabled:null===g?"true":"",children:"Upload"})]})]})})]})})}),Object(j.jsxs)("div",{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[Object(j.jsx)("i",{class:"fas fa-camera fa-2x"}),Object(j.jsx)("b",{children:" Update cover picture"})]}),Object(j.jsx)("div",{class:"modal fade",id:"exampleModal1",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(j.jsx)("div",{class:"modal-dialog",children:Object(j.jsxs)("div",{class:"modal-content",children:[Object(j.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(j.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:Object(j.jsx)("b",{children:"Upload cover picture"})}),Object(j.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{class:"modal-body",children:Object(j.jsxs)("form",{onSubmit:function(n){n.preventDefault(),t.progress(10);var s=r.a.ref("images/".concat(null===C||void 0===C?void 0:C.name)).put(C);t.progress(30),s.on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){r.a.ref("images").child(null===C||void 0===C?void 0:C.name).getDownloadURL().then((function(n){var s;t.progress(70),d.a.put(e.Env.PORT+"api/users/".concat(null===(s=t.user)||void 0===s?void 0:s._id),{coverPicture:n}).then(t.progress(100),N.push("/"))}))}))},children:[Object(j.jsxs)("div",{class:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"file1"}),Object(j.jsx)("input",{id:"file1",type:"file",onChange:function(e){e.target.files[0]&&S(e.target.files[0])}})]}),Object(j.jsxs)("div",{class:"modal-footer",children:[Object(j.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(j.jsx)("button",{className:"btn btn-primary","data-bs-dismiss":"modal",type:"submit",disabled:null===C?"true":"",children:"Upload"})]})]})})]})})})]})]})}}).call(this,n(10))},79:function(e,t,n){"use strict";t.a=n.p+"static/media/cover.aa52ea16.jpg"},8:function(e,t,n){"use strict";t.a=n.p+"static/media/user.2fda6558.png"},80:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var s=n(2),i=n.n(s),c=n(6),a=n(3),l=n(4),r=n.n(l),o=n(1),d=n(7),u=n(45),j=n(0);function b(t){var n,s,l=Object(o.useContext)(d.a).user,b=Object(o.useState)(null),v=Object(a.a)(b,2),h=v[0],x=v[1];return Object(o.useEffect)((function(){var n=function(){var n=Object(c.a)(i.a.mark((function n(){var s,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.get(e.Env.PORT+"api/posts/all/".concat(null===(s=t.user)||void 0===s?void 0:s._id));case 3:c=n.sent,x(c.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}))),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();n()}),[t.user]),Object(j.jsx)(j.Fragment,{children:(null===l||void 0===l?void 0:l._id)===(null===(n=t.user)||void 0===n?void 0:n._id)||(null===(s=t.user)||void 0===s?void 0:s.followers.includes(null===l||void 0===l?void 0:l._id))?Object(j.jsx)("div",{children:0!==(null===h||void 0===h?void 0:h.length)?Object(j.jsx)(j.Fragment,{children:null===h||void 0===h?void 0:h.map((function(e){return Object(j.jsx)(u.a,{post:e})}))}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(j.jsx)("b",{style:{fontSize:"35px",textAlign:"center"},children:"Nothing to Show"})}),Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(j.jsx)("i",{class:"fas fa-camera fa-9x"})})]})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(j.jsx)("b",{style:{fontSize:"35px",textAlign:"center"},children:"Follow to see posts"})}),Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(j.jsx)("i",{class:"fas fa-camera-retro fa-9x"})})]})})}}).call(this,n(10))},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(1),i=n(82),c=n(7),a=n(135),l=n(9),r=n(0);function o(){var e=Object(s.useRef)(),t=Object(s.useRef)(),n=Object(s.useContext)(c.a),o=(n.user,n.isFetching),d=(n.error,n.dispatch);return Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"rgb(198 195 195)"},children:[Object(r.jsxs)("div",{className:"responsive",children:[Object(r.jsx)("strong",{style:{fontSize:"70px"},children:Object(r.jsx)("span",{className:"badge bg-primary",children:"Smart-Chats"})}),Object(r.jsx)("p",{style:{fontSize:"25px",width:"25vw"},children:Object(r.jsx)("b",{children:" Connect with friends around world and chat with them."})})]}),Object(r.jsx)("div",{className:"w1",style:{backgroundColor:"white",position:"relative",left:"1vw",border:"solid #fcfaf8 1px",borderRadius:"10px"},children:Object(r.jsxs)("form",{action:"",className:"w1",style:{position:"relative",paddingBottom:"90px"},onSubmit:function(n){n.preventDefault(),Object(i.a)({email:e.current.value,password:t.current.value},d)},children:[Object(r.jsx)("input",{type:"email",required:!0,style:{width:"90%",height:" 50px ",position:"relative",top:"15px",borderRadius:"10px",border:"solid #cfc9c9 2px"},placeholder:"Email",ref:e}),Object(r.jsx)("input",{type:"password",required:!0,style:{width:"90%",height:" 50px ",position:"relative",top:"30px",borderRadius:"10px",border:"solid #cfc9c9 2px"},minLength:"6",placeholder:"Password",ref:t}),Object(r.jsx)("div",{style:{width:"90%",height:"25px"},children:Object(r.jsx)("p",{style:{display:"flex",justifyContent:"center",position:"relative",top:"45px",color:"#1877f2"},children:Object(r.jsx)("b",{children:"Forgot Password?"})})}),Object(r.jsx)("button",{className:"btn btn-primary",type:"submit",style:{width:"90%",height:" 50px ",position:"relative",top:"60px",borderRadius:"10px"},children:Object(r.jsx)("b",{children:o?Object(r.jsx)(a.a,{color:"inherit",size:"4vh"}):"Log In"})}),Object(r.jsx)("div",{style:{width:"90%",display:"flex",justifyContent:"center",position:"relative",top:"75px",textAlign:"center"},children:Object(r.jsxs)("b",{children:["Don't have an account?",Object(r.jsx)(l.b,{to:"/signup",children:"Create Account"})]})})]})})]})}},82:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var s=n(2),i=n.n(s),c=n(6),a=n(4),l=n.n(a),r=function(){var t=Object(c.a)(i.a.mark((function t(n,s){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:"LOGIN_START"}),t.prev=1,t.next=4,l.a.post(e.Env.PORT+"api/auth/login",n);case 4:c=t.sent,s({type:"LOGIN_SUCCESS",payload:c.data.user}),sessionStorage.setItem("token",c.data.token),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),s({type:"LOGIN_FAILURE",payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()}).call(this,n(10))},84:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var s=n(2),i=n.n(s),c=n(6),a=n(3),l=n(1),r=n(28),o=n(4),d=n.n(o),u=n(49),j=n(7),b=n(85),v=n(91),h=n(40),x=n(8),p=n(0);function f(){var t=Object(l.useState)(null),n=Object(a.a)(t,2),s=n[0],o=n[1],f=Object(l.useContext)(j.a).user,O=Object(l.useRef)(),m=Object(l.useRef)(),g=Object(l.useState)(null),y=Object(a.a)(g,2),w=(y[0],y[1]),k=Object(l.useState)(""),C=Object(a.a)(k,2),S=C[0],N=C[1],_=Object(l.useState)(null),R=Object(a.a)(_,2),P=R[0],E=R[1],I=Object(l.useState)(null),F=Object(a.a)(I,2),T=F[0],U=F[1],L=Object(l.useState)(null),A=Object(a.a)(L,2),B=A[0],z=A[1],D=Object(l.useState)(null),M=Object(a.a)(D,2),W=M[0],H=M[1],G=Object(l.useState)([]),q=Object(a.a)(G,2),J=q[0],K=q[1];Object(l.useEffect)((function(){O.current=Object(v.a)("ws://localhost:8800"),O.current.on("getMessage",(function(e){z({sender:e.senderId,text:e.text,createdAt:Date.now()})}))}),[]),Object(l.useEffect)((function(){var e;O.current.emit("addUser",null===f||void 0===f?void 0:f._id);var t=null===f||void 0===f?void 0:f.following;0!==(null===(e=t=(null===f||void 0===f?void 0:f.following)?t.concat(null===f||void 0===f?void 0:f.followers.filter((function(e){return!(null===f||void 0===f?void 0:f.following.includes(e))}))):null===f||void 0===f?void 0:f.followers)||void 0===e?void 0:e.length)&&o(t)}),[f]),Object(l.useEffect)((function(){O.current.on("getUser",(function(e){K(null===s||void 0===s?void 0:s.filter((function(t){return e.some((function(e){return e.userId===t}))})))}))}),[s]),Object(l.useEffect)((function(){B&&(null===P||void 0===P?void 0:P.members.includes(B.sender))&&H(B)}),[B,P]),Object(l.useEffect)((function(){var t=function(){var t=Object(c.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get(e.Env.PORT+"api/conversation/".concat(null===f||void 0===f?void 0:f._id));case 2:n=t.sent,w(n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[null===f||void 0===f?void 0:f._id]);var V=Object(l.useState)(null),X=Object(a.a)(V,2),Y=X[0],Z=X[1];Object(l.useEffect)((function(){var t=function(){var t=Object(c.a)(i.a.mark((function t(){var n,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null===P||void 0===P?void 0:P.members.find((function(e){return e!==f._id})),t.next=3,d.a.get(e.Env.PORT+"api/users/".concat(n));case 3:s=t.sent,Z(s.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[P]);var $=function(){var t=Object(c.a)(i.a.mark((function t(){var n,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=P.members.find((function(e){return e!==f._id})),console.log(n),O.current.emit("sendMessage",{senderId:f._id,receiverId:n,text:S}),t.next=5,d.a.post(e.Env.PORT+"api/messages",{conversationId:P._id,sender:f._id,text:S});case 5:s=t.sent,H(s.data),N("");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(l.useEffect)((function(){var t=function(){var t=Object(c.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get(e.Env.PORT+"api/messages/".concat(null===P||void 0===P?void 0:P._id));case 2:n=t.sent,U(n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[P,W]),Object(l.useEffect)((function(){var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end"})}),[T]);var Q=function(){var t=Object(c.a)(i.a.mark((function t(n){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get(e.Env.PORT+"api/conversation/".concat(n,"/").concat(f._id));case 2:s=t.sent,E(s.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ee=function(){var t=Object(c.a)(i.a.mark((function t(n){var s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get(e.Env.PORT+"api/conversation/".concat(n,"/").concat(f._id));case 2:if("no convo"===(s=t.sent).data){t.next=7;break}E(s.data),t.next=15;break;case 7:return t.next=9,d.a.post(e.Env.PORT+"api/conversation",{senderId:f._id,receiverId:n});case 9:if(!t.sent.data){t.next=15;break}return t.next=13,d.a.get(e.Env.PORT+"api/conversation/".concat(n,"/").concat(f._id));case 13:c=t.sent,E(c.data);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(r.a,{}),Object(p.jsxs)("div",{className:"d-flex",style:{overflowX:"hidden",overflowY:"hidden"},children:[Object(p.jsxs)("div",{className:"p-3 bg-light bar",style:{position:"relative",top:"57px"},children:[Object(p.jsx)("strong",{style:{fontSize:"25px"},children:"Conversations"}),Object(p.jsx)("hr",{}),Object(p.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:s?s.map((function(e){return Object(p.jsx)("li",{onClick:function(){return ee(e)},children:Object(p.jsx)(u.a,{conversation:e})})})):Object(p.jsx)("div",{children:Object(p.jsx)("b",{children:"Add friends to start conversation"})})})]}),Object(p.jsx)("div",{className:"midmessage",style:{position:"relative",top:"57px",left:"2vw"},children:Object(p.jsx)("div",{className:"card mb-3",style:{height:"97.8vh"},children:Object(p.jsx)("div",{className:"card-body",children:P?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{style:{height:"5vh",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:(null===Y||void 0===Y?void 0:Y.profilePicture)?null===Y||void 0===Y?void 0:Y.profilePicture:x.a,alt:"",width:32,height:32,className:"rounded-circle me-2"}),Object(p.jsx)("strong",{children:null===Y||void 0===Y?void 0:Y.name})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"arrow",style:{cursor:"pointer",paddingRight:"20px"},type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:Object(p.jsx)("i",{class:"fas fa-arrow-down"})}),Object(p.jsx)("div",{className:"online",style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop1",children:Object(p.jsx)("i",{class:"fas fa-blog"})})]}),Object(p.jsx)("div",{class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(p.jsx)("div",{class:"modal-dialog",children:Object(p.jsxs)("div",{class:"modal-content",children:[Object(p.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(p.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:Object(p.jsx)("b",{children:"Converations"})}),Object(p.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(p.jsx)("div",{class:"modal-body",children:Object(p.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:s?s.map((function(e){return Object(p.jsx)("li",{"data-bs-dismiss":"modal",onClick:function(){return ee(e)},children:Object(p.jsx)(u.a,{conversation:e})})})):Object(p.jsx)("div",{children:Object(p.jsx)("b",{children:"Add friends to start conversation"})})})}),Object(p.jsx)("div",{class:"modal-footer",children:Object(p.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})}),Object(p.jsx)("div",{class:"modal fade",id:"staticBackdrop1","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(p.jsx)("div",{class:"modal-dialog",children:Object(p.jsxs)("div",{class:"modal-content",children:[Object(p.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(p.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:Object(p.jsx)("b",{children:"Online Users"})}),Object(p.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(p.jsx)("div",{class:"modal-body",children:Object(p.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:J&&0!==J.length?J.map((function(e){return Object(p.jsx)("li",{"data-bs-dismiss":"modal",onClick:function(){return Q(e)},style:{cursor:"pointer"},children:Object(p.jsx)(h.a,{id:e})})})):Object(p.jsx)("div",{children:Object(p.jsx)("b",{children:"No one is online"})})})}),Object(p.jsx)("div",{class:"modal-footer",children:Object(p.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{className:"textheight",style:{overflowY:"scroll",overflowX:"hidden"},children:Object(p.jsx)("div",{ref:m,children:T&&T.map((function(e){return Object(p.jsx)(b.a,{msg:e})}))})}),Object(p.jsxs)("div",{style:{display:"flex",position:"absolute",bottom:"50px",width:"100%"},children:[Object(p.jsx)("textarea",{className:"textwidth",placeholder:"Write something....",style:{resize:"none",height:"20vh",borderRadius:"5px"},value:S,onChange:function(e){return N(e.target.value)}}),Object(p.jsx)("button",{type:"button",className:"btn btn-success buttonwidth",style:{height:"40px",position:"relative",left:"3px"},disabled:""===S?"true":"",onClick:$,children:"Send"})]})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"arrow",style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:Object(p.jsx)("i",{class:"fas fa-arrow-down"})}),Object(p.jsx)("div",{class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(p.jsx)("div",{class:"modal-dialog",children:Object(p.jsxs)("div",{class:"modal-content",children:[Object(p.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(p.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:Object(p.jsx)("b",{children:"Coverations"})}),Object(p.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(p.jsx)("div",{class:"modal-body",children:Object(p.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:s?s.map((function(e){return Object(p.jsx)("li",{"data-bs-dismiss":"modal",onClick:function(){return ee(e)},children:Object(p.jsx)(u.a,{conversation:e})})})):Object(p.jsx)("div",{children:Object(p.jsx)("b",{children:"Add friends to start conversation"})})})}),Object(p.jsx)("div",{class:"modal-footer",children:Object(p.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})}),Object(p.jsx)("div",{style:{fontSize:"40px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",height:"85vh"},children:Object(p.jsx)("strong",{children:"Open a conversation to start chat"})})]})})})}),Object(p.jsxs)("div",{className:"tar",style:{position:"relative",top:"65px",left:"4vw",width:"22vw"},children:[Object(p.jsx)("strong",{style:{fontSize:"30px"},children:"Online friends"}),Object(p.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto",children:[Object(p.jsx)("hr",{}),J&&0!==J.length?J.map((function(e){return Object(p.jsx)("li",{onClick:function(){return Q(e)},style:{cursor:"pointer"},children:Object(p.jsx)(h.a,{id:e})})})):Object(p.jsx)("div",{children:Object(p.jsx)("b",{children:"No one is online"})})]})]})]})]})}}).call(this,n(10))},85:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var s=n(2),i=n.n(s),c=n(6),a=n(3),l=n(1),r=n(48),o=n(7),d=n(4),u=n.n(d),j=n(8),b=n(0);function v(t){var n=Object(l.useState)(null),s=Object(a.a)(n,2),d=s[0],v=s[1];Object(l.useEffect)((function(){var n=function(){var n=Object(c.a)(i.a.mark((function n(){var s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.get(e.Env.PORT+"api/users/".concat(t.msg.sender));case 2:s=n.sent,v(s.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[t.msg.sender]);var h=Object(l.useContext)(o.a).user;return Object(b.jsxs)("div",{className:h._id===t.msg.sender?"mine":"other",style:{display:"block"},children:[Object(b.jsxs)("div",{style:{display:"flex"},children:[Object(b.jsx)("img",{src:(null===d||void 0===d?void 0:d.profilePicture)?null===d||void 0===d?void 0:d.profilePicture:j.a,alt:"",width:32,height:32,className:"rounded-circle me-2"}),Object(b.jsx)("div",{className:"chat",style:{height:"100%",backgroundColor:h._id!==t.msg.sender?"#afb4b8":"#0d6efd",color:h._id!==t.msg.sender?"black":"white",borderRadius:"25px"},children:Object(b.jsx)("p",{style:{position:"relative",top:"6px",left:"13px",width:"85%"},children:t.msg.text})})]}),Object(b.jsx)("small",{style:{position:"relative",left:"2.5vw"},children:Object(r.a)(t.msg.createdAt)})]})}}).call(this,n(10))},90:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var s=n(2),i=n.n(s),c=n(6),a=n(3),l=n(1),r=n(5),o=n(28),d=n(9),u=n(4),j=n.n(u),b=n(8),v=n(7),h=n(0);function x(){var t=Object(l.useState)(null),n=Object(a.a)(t,2),s=n[0],u=n[1],x=Object(r.h)().username,p=Object(l.useContext)(v.a).user;return Object(l.useEffect)((function(){var t=function(){var t=Object(c.a)(i.a.mark((function t(){var n,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get(e.Env.PORT+"api/users/");case 2:n=t.sent,s=n.data.filter((function(e){return e.name.includes(x)})),u(s);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[x]),Object(h.jsx)(h.Fragment,{children:null!==p&&null!=s?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(o.a,{}),Object(h.jsx)("div",{className:"container",style:{position:"relative",top:"57px",width:"85vw"},children:0!==s.length?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("ul",{className:"nav nav-pills flex-column mb-auto py-2",children:s.map((function(e){return Object(h.jsx)("li",{className:"nav-link link-dark text-decoration-none",style:{listStyle:"none"},children:Object(h.jsxs)("div",{className:"card-body d-flex",children:[Object(h.jsx)(d.b,{to:"/profile/".concat(null===e||void 0===e?void 0:e.name),children:Object(h.jsx)("div",{style:{height:"15vw",width:"15vw",display:"flex",justifyContent:"center",alignItems:"center",border:"solid white 3px",backgroundColor:"black",overflow:"hidden"},class:"avatar rounded-circle",children:Object(h.jsx)("img",{src:(null===e||void 0===e?void 0:e.profilePicture)?null===e||void 0===e?void 0:e.profilePicture:b.a,alt:"",style:{maxHeight:"100%",maxWidth:"100%"}})})}),Object(h.jsx)("div",{style:{width:"100%",height:"15vw",position:"relative",display:"flex",alignItems:"center"},children:Object(h.jsxs)("ul",{style:{listStyle:"none",fontSize:"2vw"},children:[Object(h.jsx)("li",{children:Object(h.jsx)("strong",{children:null===e||void 0===e?void 0:e.name})}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"City:"})," ",(null===e||void 0===e?void 0:e.city)?null===e||void 0===e?void 0:e.city:"Unknown"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"From:"})," ",(null===e||void 0===e?void 0:e.from)?null===e||void 0===e?void 0:e.from:"Unknown"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"Relationship Status:"})," ",(null===e||void 0===e?void 0:e.relationship)?null===e||void 0===e?void 0:e.relationship:"Unknown"]})]})})]})})}))})}):Object(h.jsx)("div",{style:{fontSize:"80px",display:"flex",justifyContent:"center",textAlign:"center"},children:"No results found"})})]}):Object(h.jsx)("div",{})})}}).call(this,n(10))},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var s=n(1),i=n(7),c=(n(57),n(70)),a=n(28),l=n(3),r=n.p+"static/media/gift-1020-542634.2852fa24.png",o=n.p+"static/media/crowd1.7f73f4a1.jpg",d=n(40),u=n(0);function j(){var e=Object(s.useContext)(i.a).user,t=Object(s.useState)([]),n=Object(l.a)(t,2),c=n[0],a=n[1];return Object(s.useEffect)((function(){var t=null===e||void 0===e?void 0:e.followings;t=(null===e||void 0===e?void 0:e.followings)?t.concat(null===e||void 0===e?void 0:e.followers):null===e||void 0===e?void 0:e.followers,a(t)}),[e]),Object(u.jsx)("div",{className:"p-3 bg-light right",children:Object(u.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto",children:[Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"28vw"},children:[Object(u.jsx)("div",{style:{height:"55px",width:"50px"},children:Object(u.jsx)("img",{style:{maxHeight:"100%",maxWidth:"100%"},src:r,alt:""})}),Object(u.jsxs)("p",{children:[Object(u.jsx)("strong",{children:"Tarun"})," and ",Object(u.jsx)("strong",{children:"3 others"})," have birthday today!! wish them now"]})]}),Object(u.jsx)("div",{style:{width:"27vw"},children:Object(u.jsx)("img",{style:{width:"27vw",maxHeight:"30vh"},className:"img-fluid",src:o,alt:""})}),Object(u.jsx)("hr",{}),Object(u.jsx)("strong",{style:{fontSize:"4vh"},children:"Online friends"}),c&&0!==c.length&&c.map((function(e){return Object(u.jsx)(d.a,{id:e})}))]})})}function b(){Object(s.useEffect)((function(){window.scrollTo(0,0)}),[]);var e=Object(s.useContext)(i.a).user;return Object(u.jsx)(u.Fragment,{children:null!==e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(a.a,{}),Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("div",{className:"top",style:{position:"relative",top:"57px",left:"1vw"},children:Object(u.jsx)(c.a,{})}),Object(u.jsx)("div",{style:{position:"relative",top:"65px",left:"2vw"},children:Object(u.jsx)(j,{})})]})]}):Object(u.jsx)("div",{})})}},98:function(e,t,n){}},[[134,1,2]]]);
//# sourceMappingURL=main.459ae3af.chunk.js.map