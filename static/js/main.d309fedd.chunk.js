(this["webpackJsonpsmart-chats"]=this["webpackJsonpsmart-chats"]||[]).push([[0],{122:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),c=n(64),a=n.n(c),r=(n(86),n(65)),l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,132)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),s(e),c(e),a(e)}))},o=n(7),d=n(131),u=n(0);a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(d.a,{children:Object(u.jsx)(o.b,{children:Object(u.jsx)(r.a,{})})})}),document.getElementById("root")),l()},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n(2),s=n.n(i),c=n(6),a=n(3),r=n(1),l=n(5),o=n(9),d=n(7),u=n(8),j=n(4),b=n.n(j),v=n(0);function O(){var e=Object(l.g)(),t=Object(r.useContext)(d.a),n=t.user,i=t.dispatch,j=t.error,O=Object(r.useState)(""),h=Object(a.a)(O,2),p=h[0],x=h[1],f=function(){var t=Object(c.a)(s.a.mark((function t(n){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,b.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/find/".concat(p));case 3:i=t.sent,e.push("/search/".concat(p)),console.log(i.data);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsx)("div",{children:Object(v.jsx)("nav",{className:"navbar fixed-top navbar-expand-md navbar-dark",style:{backgroundColor:"#1877f2"},children:Object(v.jsxs)("div",{className:"container-fluid",children:[Object(v.jsxs)("div",{className:"navbar-brand",style:{display:"flex",alignItems:"center"},children:[Object(v.jsxs)("div",{class:"dropend",children:[Object(v.jsx)("img",{type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",src:(null===n||void 0===n?void 0:n.profilePicture)?null===n||void 0===n?void 0:n.profilePicture:u.a,alt:"",width:32,height:32,className:"rounded-circle me-2 dropdown-toggle"}),Object(v.jsxs)("ul",{class:"dropdown-menu",children:[Object(v.jsx)("li",{children:Object(v.jsx)(o.b,{to:"/profile/".concat(null===n||void 0===n?void 0:n.name),class:"dropdown-item",children:Object(v.jsx)("b",{children:"Profile"})})}),Object(v.jsx)("li",{children:Object(v.jsx)(o.b,{className:"dropdown-item",to:"/messenger",children:Object(v.jsx)("b",{children:"Messages"})})}),Object(v.jsx)("li",{onClick:function(){sessionStorage.removeItem("token"),i({type:"LOGIN_FAILURE",payload:j}),e.push("/login")},style:{cursor:"pointer"},class:"dropdown-item",children:Object(v.jsx)("b",{children:"Log out"})})]})]}),Object(v.jsx)("b",{children:"Smart-Chats"})]}),Object(v.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)("span",{className:"navbar-toggler-icon"})}),Object(v.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(v.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-md-0",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(o.b,{className:"nav-link active","aria-current":"page",to:"/",children:"Homepage"})}),Object(v.jsx)("li",{className:"nav-item hide",style:{alignItems:"center"},children:Object(v.jsx)(o.b,{to:"/messenger",children:Object(v.jsx)("i",{className:"fas fa-comment-alt nav-link active"})})})]}),Object(v.jsxs)("form",{className:"d-flex",onSubmit:f,children:[Object(v.jsx)("input",{value:p,onChange:function(e){return x(e.target.value)},className:"form-control me-2",type:"search",placeholder:"Search for friends","aria-label":"Search",style:{width:"30vw",borderRadius:"2vh",border:"solid black .2vh"}}),Object(v.jsxs)("button",{className:"btn",type:"submit",style:{display:"flex",alignItems:"center",backgroundColor:"#1877f2"},children:[" ",Object(v.jsx)("i",{className:"fas fa-search"})]})]})]})]})})})}},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i=n(2),s=n.n(i),c=n(6),a=n(4),r=n.n(a),l=n(1),o=n(5),d=n(9),u=n(0);function j(){var e=Object(l.useRef)(),t=Object(l.useRef)(),n=Object(l.useRef)(),i=Object(l.useRef)(),a=Object(o.g)(),j=function(){var l=Object(c.a)(s.a.mark((function c(l){var o;return s.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(l.preventDefault(),n.current.value===i.current.value){s.next=5;break}n.current.setCustomValidity("Passwords don't match"),s.next=15;break;case 5:return o={name:e.current.value,email:t.current.value,password:n.current.value,cpassword:i.current.value},s.prev=6,s.next=9,r.a.post(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/auth",o);case 9:a.push("/login"),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(6),console.log(s.t0);case 15:case"end":return s.stop()}}),c,null,[[6,12]])})));return function(e){return l.apply(this,arguments)}}();return Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"rgb(198 195 195)"},children:[Object(u.jsxs)("div",{className:"responsive",children:[Object(u.jsx)("strong",{style:{fontSize:"70px"},children:Object(u.jsx)("span",{className:"badge bg-primary",children:"Smart-Chats"})}),Object(u.jsx)("p",{style:{fontSize:"25px",width:"25vw"},children:Object(u.jsx)("b",{children:" Connect with friends around world and chat with them."})})]}),Object(u.jsx)("div",{className:"w1",style:{backgroundColor:"white",position:"relative",left:"1vw",border:"solid #fcfaf8 1px",borderRadius:"10px"},children:Object(u.jsxs)("form",{action:"",className:"w1",style:{position:"relative",paddingBottom:"90px"},onSubmit:j,children:[Object(u.jsx)("input",{type:"text",style:{width:"90%",height:"50px",position:"relative",top:"15px",borderRadius:"10px",border:"solid #cfc9c9 2px"},placeholder:"Username without space",pattern:"^\\S+$",required:!0,ref:e}),Object(u.jsx)("input",{type:"email",style:{width:"90%",height:" 50px ",position:"relative",top:"30px",borderRadius:"10px",border:"solid #cfc9c9 2px"},placeholder:"Email",required:!0,ref:t}),Object(u.jsx)("input",{type:"password",style:{width:"90%",height:"50px",position:"relative",top:"45px",borderRadius:"10px",border:"solid #cfc9c9 2px"},placeholder:"Password",required:!0,ref:n,minLength:"6"}),Object(u.jsx)("input",{type:"password",style:{width:"90%",height:"50px",position:"relative",top:"60px",borderRadius:"10px",border:"solid #cfc9c9 2px"},placeholder:"Confirm Password",required:!0,ref:i,minLength:"6"}),Object(u.jsx)("button",{className:"btn btn-primary",style:{width:"90%",height:"50px",position:"relative",top:"75px",borderRadius:"10px"},type:"submit",children:Object(u.jsx)("b",{children:"Sign Up"})}),Object(u.jsx)("div",{style:{width:"90%",height:"50px",display:"flex",justifyContent:"center",position:"relative",top:"90px",textAlign:"center"},children:Object(u.jsxs)("b",{children:["Already have an account?",Object(u.jsx)(d.b,{to:"/login",children:"Log In"})]})})]})})]})}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i=n(2),s=n.n(i),c=n(6),a=n(3),r=n(1),l=n(8),o=n(4),d=n.n(o),u=n(0);function j(e){var t=Object(r.useState)({}),n=Object(a.a)(t,2),i=n[0],o=n[1];return Object(r.useEffect)((function(){var t=function(){var t=Object(c.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/".concat(e.id));case 2:n=t.sent,o(n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.id]),Object(u.jsxs)("div",{className:"d-flex align-items-center nav-link link-dark text-decoration-none",children:[Object(u.jsx)("img",{src:i.profilePicture?i.profilePicture:l.a,alt:"",width:32,height:32,className:"rounded-circle me-2"}),Object(u.jsx)("span",{className:"position-absolute top-1 start-1 translate-middle p-2 bg-success border border-light rounded-circle",children:Object(u.jsx)("span",{className:"visually-hidden",children:"New alerts"})}),Object(u.jsx)("strong",{children:i.name})]})}},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(2),s=n.n(i),c=n(6),a=n(3),r=n(1),l=n(4),o=n.n(l),d=n(8),u=n(46),j=n(7),b=n(5),v=n(9),O=n(0);function h(e){var t,n=Object(r.useContext)(j.a).user,i=Object(r.useState)({}),l=Object(a.a)(i,2),h=l[0],p=l[1],x=Object(r.useState)(),f=Object(a.a)(x,2),m=f[0],g=f[1],S=Object(r.useState)(e.post.likes.length),y=Object(a.a)(S,2),_=y[0],w=y[1],E=Object(r.useState)(),C=Object(a.a)(E,2),T=C[0],R=C[1],N=Object(b.g)();console.log(e.post),Object(r.useEffect)((function(){g(e.post.likes.includes(null===n||void 0===n?void 0:n._id))}),[n]),Object(r.useEffect)((function(){R(m?"fas":"far")}),[m]),Object(r.useEffect)((function(){var t=function(){var t=Object(c.a)(s.a.mark((function t(){var n,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/".concat(null===(n=e.post)||void 0===n?void 0:n.userId));case 2:i=t.sent,p(i.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[null===(t=e.post)||void 0===t?void 0:t.userId]);var k=function(){var t=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(m?_-1:_+1),R(m?"far":"fas"),g(!m),t.next=5,o.a.put(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/posts/".concat(e.post._id,"/like"),{userId:n._id});case 5:console.log(h._id),console.log(n._id);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure,you want to delete this post??")){t.next=5;break}return t.next=3,o.a.delete(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/posts/".concat(e.post._id));case 3:"successfully deleted"===t.sent.data&&N.push("/");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"card mb-3",style:{position:"relative",top:"8px"},children:Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsxs)("div",{className:"card-title d-flex justify-content-between",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(v.b,{to:"/profile/".concat(null===h||void 0===h?void 0:h.name),children:Object(O.jsx)("img",{src:(null===h||void 0===h?void 0:h.profilePicture)?null===h||void 0===h?void 0:h.profilePicture:d.a,alt:"",width:32,height:32,className:"rounded-circle me-2"})}),Object(O.jsx)("strong",{children:null===h||void 0===h?void 0:h.name}),Object(O.jsx)("small",{style:{position:"relative",left:"1.5vw"},children:Object(u.a)(e.post.createdAt)})]}),Object(O.jsx)("i",{style:{cursor:"pointer",display:(null===n||void 0===n?void 0:n._id)!==(null===h||void 0===h?void 0:h._id)||!1===e.bool?"none":""},onClick:D,class:"fas fa-trash"})]}),Object(O.jsx)("p",{children:Object(O.jsx)("strong",{children:e.post.desc})}),Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(O.jsx)("img",{style:{maxWidth:"100%"},src:e.post.img,alt:""})}),Object(O.jsxs)("div",{style:{position:"relative",top:"5px",display:"flex",alignItems:"center",paddingTop:"10px"},children:[Object(O.jsx)("i",{onClick:k,style:{cursor:"pointer"},className:"".concat(T," fa-heart fa-2x")}),Object(O.jsxs)("span",{style:{position:"relative",left:".6vw"},children:[_," likes"]})]})]})})}},55:function(e,t,n){"use strict";n(1),n(0)},65:function(e,t,n){"use strict";(function(e){var i=n(3),s=n(2),c=n.n(s),a=n(6),r=(n(88),n(89),n(78)),l=n(77),o=n(80),d=n(35),u=n(79),j=n(7),b=n(74),v=n(75),O=n(9),h=n(5),p=n(1),x=n(4),f=n.n(x),m=n(0);t.a=function(){var t=Object(p.useContext)(j.a),n=t.user,s=t.dispatch,x=function(){var t=Object(a.a)(c.a.mark((function t(n){var i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get(e.Env.PORT+"api/users/".concat(n));case 2:i=t.sent,s({type:"LOGIN_SUCCESS",payload:i.data}),console.log(i.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=Object(p.useState)(0),S=Object(i.a)(g,2),y=S[0],_=S[1],w=function(){var t=Object(a.a)(c.a.mark((function t(n){var i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get(e.Env.PORT+"api/auth/verify",{headers:{token:n}});case 3:i=t.sent,x(i.data._id),console.log(i.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(p.useEffect)((function(){sessionStorage.getItem("token")&&w(sessionStorage.getItem("token"))}),[]),Object(m.jsxs)(O.a,{basename:window.location.pathname||"",children:[Object(m.jsx)(b.a,{color:"white",height:"3px",progress:y}),Object(m.jsxs)(h.d,{children:[Object(m.jsx)(h.b,{exact:!0,path:"/",children:n||sessionStorage.getItem("token")?Object(m.jsx)(r.a,{}):Object(m.jsx)(d.a,{})}),Object(m.jsx)(h.b,{exact:!0,path:"/messenger",children:n||sessionStorage.getItem("token")?Object(m.jsx)(u.a,{}):Object(m.jsx)(d.a,{})}),Object(m.jsx)(h.b,{exact:!0,path:"/login",children:n||sessionStorage.getItem("token")?Object(m.jsx)(h.a,{to:"/"}):Object(m.jsx)(o.a,{})}),Object(m.jsx)(h.b,{exact:!0,path:"/signup",children:n||sessionStorage.getItem("token")?Object(m.jsx)(h.a,{to:"/"}):Object(m.jsx)(d.a,{})}),Object(m.jsx)(h.b,{exact:!0,path:"/profile/:username",children:n||sessionStorage.getItem("token")?Object(m.jsx)(l.a,{progress:_}):Object(m.jsx)(d.a,{})}),Object(m.jsx)(h.b,{exact:!0,path:"/search/:username",children:n||sessionStorage.getItem("token")?Object(m.jsx)(v.a,{}):Object(m.jsx)(d.a,{})})]})]})}}).call(this,n(54))},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return o}));var i=n(3),s=n(1),c=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:t.payload};default:return e}},a=n(0),r={user:null,isFetching:!1,error:!1},l=Object(s.createContext)(r),o=function(e){var t=e.children,n=Object(s.useReducer)(c,r),o=Object(i.a)(n,2),d=o[0],u=o[1];return Object(a.jsx)(l.Provider,{value:{user:d.user,isFetching:d.isFetching,error:d.error,dispatch:u},children:t})}},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(2),s=n.n(i),c=n(6),a=n(3),r=n(1),l=n(5),o=n(27),d=n(9),u=n(4),j=n.n(u),b=n(8),v=n(7),O=n(0);function h(){var e=Object(r.useState)(null),t=Object(a.a)(e,2),n=t[0],i=t[1],u=Object(l.h)().username,h=Object(r.useContext)(v.a).user;return Object(r.useEffect)((function(){var e=function(){var e=Object(c.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/");case 2:t=e.sent,n=t.data.filter((function(e){return e.name.includes(u)})),i(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[u]),Object(O.jsx)(O.Fragment,{children:null!==h&&null!=n?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(o.a,{}),Object(O.jsx)("div",{className:"container",style:{position:"relative",top:"57px",width:"85vw"},children:0!==n.length?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("ul",{className:"nav nav-pills flex-column mb-auto py-2",children:n.map((function(e){return Object(O.jsx)("li",{className:"nav-link link-dark text-decoration-none",style:{listStyle:"none"},children:Object(O.jsxs)("div",{className:"card-body d-flex",children:[Object(O.jsx)(d.b,{to:"/profile/".concat(null===e||void 0===e?void 0:e.name),children:Object(O.jsx)("div",{style:{height:"15vw",width:"15vw",display:"flex",justifyContent:"center",alignItems:"center",border:"solid white 3px",backgroundColor:"black",overflow:"hidden"},class:"avatar rounded-circle",children:Object(O.jsx)("img",{src:(null===e||void 0===e?void 0:e.profilePicture)?null===e||void 0===e?void 0:e.profilePicture:b.a,alt:"",style:{maxHeight:"100%",maxWidth:"100%"}})})}),Object(O.jsx)("div",{style:{width:"100%",height:"15vw",position:"relative",display:"flex",alignItems:"center"},children:Object(O.jsxs)("ul",{style:{listStyle:"none",fontSize:"2vw"},children:[Object(O.jsx)("li",{children:Object(O.jsx)("strong",{children:null===e||void 0===e?void 0:e.name})}),Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"City:"})," ",(null===e||void 0===e?void 0:e.city)?null===e||void 0===e?void 0:e.city:"Unknown"]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"From:"})," ",(null===e||void 0===e?void 0:e.from)?null===e||void 0===e?void 0:e.from:"Unknown"]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"Relationship Status:"})," ",(null===e||void 0===e?void 0:e.relationship)?null===e||void 0===e?void 0:e.relationship:"Unknown"]})]})})]})})}))})}):Object(O.jsx)("div",{style:{fontSize:"80px",display:"flex",justifyContent:"center",textAlign:"center"},children:"No results found"})})]}):Object(O.jsx)("div",{})})}},77:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var i=n(2),s=n.n(i),c=n(6),a=n(3),r=n(1),l=n(5),o=n(8),d=n(44);n(121);d.a.initializeApp({apiKey:"AIzaSyAH5d3Wjr_NgyJgdx9ra7WjZOzmVx08eHk",authDomain:"fir-react-upload-391f1.firebaseapp.com",projectId:"fir-react-upload-391f1",storageBucket:"fir-react-upload-391f1.appspot.com",messagingSenderId:"815346693654",appId:"1:815346693654:web:9d67a268ca505c96fa6737",measurementId:"G-J6R2THCK2K"});var u=d.a.storage(),j=n(4),b=n.n(j),v=n(7),O=n(9),h=n(0);function p(e){var t=Object(r.useState)({}),n=Object(a.a)(t,2),i=n[0],l=n[1];return Object(r.useEffect)((function(){var t=function(){var t=Object(c.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/".concat(e.id));case 2:n=t.sent,l(n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.id]),Object(h.jsxs)("div",{className:"d-flex nav-link link-dark text-decoration-none",children:[Object(h.jsx)(O.b,{to:"/profile/".concat(null===i||void 0===i?void 0:i.name),children:Object(h.jsx)("div",{style:{height:"25vw",width:"25vw",display:"flex",justifyContent:"center",alignItems:"center",border:"solid white 3px",backgroundColor:"black",overflow:"hidden"},class:"avatar rounded-circle",children:Object(h.jsx)("img",{src:(null===i||void 0===i?void 0:i.profilePicture)?null===i||void 0===i?void 0:i.profilePicture:o.a,alt:"",style:{maxHeight:"100%",maxWidth:"100%"}})})}),Object(h.jsx)("div",{style:{width:"53vw",height:"25vw",position:"relative",left:"-2.5vw",display:"flex",alignItems:"center"},children:Object(h.jsxs)("ul",{style:{listStyle:"none",fontSize:"2.8vw"},children:[Object(h.jsx)("li",{children:Object(h.jsx)("strong",{children:null===i||void 0===i?void 0:i.name})}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"City:"})," ",(null===i||void 0===i?void 0:i.city)?null===i||void 0===i?void 0:i.city:"Unknown"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"From:"})," ",(null===i||void 0===i?void 0:i.from)?null===i||void 0===i?void 0:i.from:"Unknown"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"Relationship Status:"})," ",(null===i||void 0===i?void 0:i.relationship)?(null===i||void 0===i?void 0:i.relationship.length)>20?(null===i||void 0===i?void 0:i.relationship.slice(0,20))+"...":null===i||void 0===i?void 0:i.relationship:"Unknown"]})]})})]})}function x(e){var t,n,i,d,j,O,x,f,m,g,S,y,_,w,E,C,T,R=Object(l.g)(),N=Object(r.useContext)(v.a).user,k=Object(r.useState)(null),D=Object(a.a)(k,2),U=D[0],P=D[1],L=Object(r.useRef)(),F=Object(r.useState)(null===(t=e.user)||void 0===t?void 0:t.followers.includes(null===N||void 0===N?void 0:N._id)),W=Object(a.a)(F,2),H=W[0],K=W[1],A=Object(r.useState)(null),I=Object(a.a)(A,2),B=I[0],V=I[1];Object(r.useEffect)((function(){var t,n,i;console.log(null===N||void 0===N?void 0:N._id),console.log(null===(t=e.user)||void 0===t?void 0:t._id),console.log(null===(n=e.user)||void 0===n?void 0:n.followers.includes(null===N||void 0===N?void 0:N._id)),K(null===(i=e.user)||void 0===i?void 0:i.followers.includes(null===N||void 0===N?void 0:N._id))}),[N,null===(n=e.user)||void 0===n?void 0:n._id]),Object(r.useEffect)((function(){var t,n,i,s,c=null===(t=e.user)||void 0===t?void 0:t.following;(null===(n=e.user)||void 0===n?void 0:n.following)?c=c.concat(null===(i=e.user)||void 0===i?void 0:i.followers.filter((function(t){var n;return!(null===(n=e.user)||void 0===n?void 0:n.following.includes(t))}))):c=null===(s=e.user)||void 0===s?void 0:s.followers;0!==c.length&&V(c)}),[e.user]);var z=function(){var t=Object(c.a)(s.a.mark((function t(){var n,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(H){t.next=7;break}return t.next=3,b.a.put(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/".concat(null===(n=e.user)||void 0===n?void 0:n._id,"/follow"),{userId:null===N||void 0===N?void 0:N._id});case 3:"you are following"===t.sent.data&&window.location.reload(),t.next=11;break;case 7:return t.next=9,b.a.put(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/".concat(null===(i=e.user)||void 0===i?void 0:i._id,"/unfollow"),{userId:null===N||void 0===N?void 0:N._id});case 9:"you are unfollowing"===t.sent.data&&window.location.reload();case 11:K(!H);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===J&&""===$&&""===ne&&""===ae){e.next=10;break}return e.next=4,b.a.put(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/".concat(null===N||void 0===N?void 0:N._id),{city:""!==J?J:N.city,from:""!==$?$:N.from,relationship:""!==ne?ne:N.relationship,desc:""!==ae?ae:N.desc});case 4:n=e.sent,X(""),Q(""),ie(""),re(""),"successfully updated"===n.data&&window.location.reload();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=Object(r.useState)(""),q=Object(a.a)(G,2),J=q[0],X=q[1],Y=Object(r.useState)(""),Z=Object(a.a)(Y,2),$=Z[0],Q=Z[1],ee=Object(r.useState)(""),te=Object(a.a)(ee,2),ne=te[0],ie=te[1],se=Object(r.useState)(""),ce=Object(a.a)(se,2),ae=ce[0],re=ce[1];return Object(h.jsx)(h.Fragment,{children:null!==e.user&&null!==N?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"card mb-3 upload",style:{position:"relative",top:"15px",display:(null===N||void 0===N?void 0:N._id)!==(null===(i=e.user)||void 0===i?void 0:i._id)?"none":""},children:Object(h.jsx)("div",{className:"card-body",children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.progress(10);var n=u.ref("images/".concat(null===U||void 0===U?void 0:U.name)).put(U);e.progress(30),n.on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){u.ref("images").child(U.name).getDownloadURL().then((function(t){e.progress(70),b.a.post(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/posts",{userId:e.user._id,img:t,desc:L.current.value}).then(e.progress(100),R.push("/"))}))}))},children:[Object(h.jsxs)("div",{className:"card-title d-flex",children:[Object(h.jsx)("img",{src:(null===(d=e.user)||void 0===d?void 0:d.profilePicture)?null===(j=e.user)||void 0===j?void 0:j.profilePicture:o.a,alt:"",width:40,height:40,className:"rounded-circle me-2"}),Object(h.jsx)("input",{className:"textarea",style:{border:"none",outline:"none",position:"relative",left:"1vw"},id:"",placeholder:"What's in your mind...",ref:L})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"row row-cols-sm-1 row-cols-md-3 align-items-stretch g-2",style:{position:"relative",top:"3vh",paddingBottom:"30px"},children:[Object(h.jsxs)("div",{className:"col",style:{position:"relative",left:"2vw"},children:[Object(h.jsx)("i",{class:"far fa-images fa-2x"}),Object(h.jsx)("b",{children:"   Upload images"})]}),Object(h.jsx)("input",{style:{position:"relative",left:"2vw"},type:"file",id:"file",onChange:function(e){e.target.files[0]&&P(e.target.files[0])}}),Object(h.jsx)("div",{style:{position:"relative",left:"2vw"},children:Object(h.jsx)("button",{className:"btn btn-success",type:"submit",disabled:null===U?"true":"",children:"Share"})})]})]})})}),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"p-3 bg-light frnds",children:[Object(h.jsx)("button",{onClick:z,style:{display:(null===N||void 0===N?void 0:N._id)===(null===(O=e.user)||void 0===O?void 0:O._id)?"none":""},className:"btn btn-primary",children:H?"Unfollow":"Follow"}),Object(h.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto py-2",children:[Object(h.jsxs)("div",{style:{width:"80vw"},children:[Object(h.jsxs)("strong",{children:["About ",null===(x=e.user)||void 0===x?void 0:x.name]}),Object(h.jsx)("i",{style:{position:"relative",left:"5vw",display:(null===(f=e.user)||void 0===f?void 0:f._id)===N._id?"":"none"},type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal2",class:"far fa-edit"}),Object(h.jsx)("div",{class:"modal fade",id:"exampleModal2",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(h.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:Object(h.jsxs)("b",{children:["About ",null===(m=e.user)||void 0===m?void 0:m.name]})}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{class:"modal-body",children:Object(h.jsxs)("form",{onSubmit:M,children:[Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"city-name",class:"col-form-label",children:Object(h.jsx)("b",{children:"City:"})}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"city-name",value:J,onChange:function(e){return X(e.target.value)}})]}),Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"from",class:"col-form-label",children:Object(h.jsx)("b",{children:"From:"})}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"from",value:$,onChange:function(e){return Q(e.target.value)}})]}),Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"relation",class:"col-form-label",children:Object(h.jsx)("b",{children:"Relationship:"})}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"relation",value:ne,onChange:function(e){return ie(e.target.value)}})]}),Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"desc",class:"col-form-label",children:Object(h.jsx)("b",{children:"Description:"})}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"desc",value:ae,onChange:function(e){return re(e.target.value)}})]}),Object(h.jsxs)("div",{class:"modal-footer",children:[Object(h.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(h.jsx)("button",{class:"btn btn-primary","data-bs-dismiss":"modal",type:"submit",children:"Save changes"})]})]})})]})})}),Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"City:"})," ",(null===(g=e.user)||void 0===g?void 0:g.city)?null===(S=e.user)||void 0===S?void 0:S.city:"Unknown"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"From:"})," ",(null===(y=e.user)||void 0===y?void 0:y.from)?null===(_=e.user)||void 0===_?void 0:_.from:"Unknown"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"Relationship Status:"})," ",(null===(w=e.user)||void 0===w?void 0:w.relationship)?(null===(E=e.user)||void 0===E?void 0:E.relationship.length)>20?null===(C=e.user)||void 0===C?void 0:C.relationship.slice(0,20):null===(T=e.user)||void 0===T?void 0:T.relationship:"Unknown"]})]})]}),Object(h.jsx)("hr",{}),Object(h.jsx)("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop2",className:"btn btn-secondary",children:"Friends"}),Object(h.jsx)("div",{class:"modal fade",id:"staticBackdrop2","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(h.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:Object(h.jsx)("b",{children:"Friends"})}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{class:"modal-body",children:Object(h.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:null!==B?B.map((function(e){return Object(h.jsx)("li",{"data-bs-dismiss":"modal",children:Object(h.jsx)(p,{id:e})})})):Object(h.jsx)("div",{children:"No friends added"})})}),Object(h.jsx)("div",{class:"modal-footer",children:Object(h.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]})]})})]}):Object(h.jsx)("div",{})})}function f(e){var t=Object(r.useState)({}),n=Object(a.a)(t,2),i=n[0],l=n[1];return Object(r.useEffect)((function(){var t=function(){var t=Object(c.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/".concat(e.id));case 2:n=t.sent,l(n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.id]),Object(h.jsxs)("div",{className:"d-flex nav-link link-dark text-decoration-none",children:[Object(h.jsx)(O.b,{to:"/profile/".concat(null===i||void 0===i?void 0:i.name),children:Object(h.jsx)("div",{style:{height:"12vw",width:"12vw",display:"flex",justifyContent:"center",alignItems:"center",border:"solid white 3px",backgroundColor:"black",overflow:"hidden",position:"relative",left:"-1.5vw"},class:"avatar rounded-circle",children:Object(h.jsx)("img",{src:(null===i||void 0===i?void 0:i.profilePicture)?null===i||void 0===i?void 0:i.profilePicture:o.a,alt:"",style:{maxHeight:"100%",maxWidth:"100%"}})})}),Object(h.jsx)("div",{style:{width:"14vw",height:"12svw",position:"relative",left:"-2.5vw",display:"flex",alignItems:"center"},children:Object(h.jsxs)("ul",{style:{listStyle:"none",fontSize:"1.3vw"},children:[Object(h.jsx)("li",{children:Object(h.jsx)("strong",{children:null===i||void 0===i?void 0:i.name})}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"City:"})," ",(null===i||void 0===i?void 0:i.city)?null===i||void 0===i?void 0:i.city:"Unknown"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"From:"})," ",(null===i||void 0===i?void 0:i.from)?null===i||void 0===i?void 0:i.from:"Unknown"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"Relationship Status:"})," ",(null===i||void 0===i?void 0:i.relationship)?null===i||void 0===i?void 0:i.relationship:"Unknown"]})]})})]})}function m(e){var t,n,i,l,o,d,u,j,O,p,x,m,g,S,y=Object(r.useContext)(v.a).user,_=Object(r.useState)(null===(t=e.user)||void 0===t?void 0:t.followers.includes(null===y||void 0===y?void 0:y._id)),w=Object(a.a)(_,2),E=w[0],C=w[1],T=Object(r.useState)(null),R=Object(a.a)(T,2),N=R[0],k=R[1];Object(r.useEffect)((function(){var t,n,i;console.log(null===y||void 0===y?void 0:y._id),console.log(null===(t=e.user)||void 0===t?void 0:t._id),console.log(null===(n=e.user)||void 0===n?void 0:n.followers.includes(null===y||void 0===y?void 0:y._id)),C(null===(i=e.user)||void 0===i?void 0:i.followers.includes(null===y||void 0===y?void 0:y._id))}),[y,null===(n=e.user)||void 0===n?void 0:n._id]),Object(r.useEffect)((function(){var t,n,i,s,c=null===(t=e.user)||void 0===t?void 0:t.following;(null===(n=e.user)||void 0===n?void 0:n.following)?c=c.concat(null===(i=e.user)||void 0===i?void 0:i.followers.filter((function(t){var n;return!(null===(n=e.user)||void 0===n?void 0:n.following.includes(t))}))):c=null===(s=e.user)||void 0===s?void 0:s.followers;0!==c.length&&k(c)}),[e.user]);var D=function(){var t=Object(c.a)(s.a.mark((function t(){var n,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(E){t.next=7;break}return t.next=3,b.a.put(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/".concat(null===(n=e.user)||void 0===n?void 0:n._id,"/follow"),{userId:null===y||void 0===y?void 0:y._id});case 3:"you are following"===t.sent.data&&window.location.reload(),t.next=11;break;case 7:return t.next=9,b.a.put(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/".concat(null===(i=e.user)||void 0===i?void 0:i._id,"/unfollow"),{userId:null===y||void 0===y?void 0:y._id});case 9:"you are unfollowing"===t.sent.data&&window.location.reload();case 11:C(!E);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),U=function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===F&&""===A&&""===z&&""===J){e.next=10;break}return e.next=4,b.a.put(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/".concat(null===y||void 0===y?void 0:y._id),{city:""!==F?F:y.city,from:""!==A?A:y.from,relationship:""!==z?z:y.relationship,desc:""!==J?J:y.desc});case 4:n=e.sent,W(""),I(""),M(""),X(""),"successfully updated"===n.data&&window.location.reload();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=Object(r.useState)(""),L=Object(a.a)(P,2),F=L[0],W=L[1],H=Object(r.useState)(""),K=Object(a.a)(H,2),A=K[0],I=K[1],B=Object(r.useState)(""),V=Object(a.a)(B,2),z=V[0],M=V[1],G=Object(r.useState)(""),q=Object(a.a)(G,2),J=q[0],X=q[1];return Object(h.jsxs)("div",{className:"p-3 bg-light right",children:[Object(h.jsx)("button",{onClick:D,style:{display:(null===y||void 0===y?void 0:y._id)===(null===(i=e.user)||void 0===i?void 0:i._id)?"none":""},className:"btn btn-primary",children:E?"Unfollow":"Follow"}),Object(h.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto py-2",children:[Object(h.jsxs)("div",{style:{width:"28vw"},children:[Object(h.jsxs)("strong",{children:["About ",null===(l=e.user)||void 0===l?void 0:l.name]}),Object(h.jsx)("i",{style:{position:"relative",left:"5vw",display:(null===(o=e.user)||void 0===o?void 0:o._id)===y._id?"":"none"},type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal4",class:"far fa-edit"}),Object(h.jsx)("div",{class:"modal fade",id:"exampleModal4",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(h.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:Object(h.jsxs)("b",{children:["About ",null===(d=e.user)||void 0===d?void 0:d.name]})}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{class:"modal-body",children:Object(h.jsxs)("form",{onSubmit:U,children:[Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"city-name",class:"col-form-label",children:Object(h.jsx)("b",{children:"City:"})}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"city-name",value:F,onChange:function(e){return W(e.target.value)}})]}),Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"from",class:"col-form-label",children:Object(h.jsx)("b",{children:"From:"})}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"from",value:A,onChange:function(e){return I(e.target.value)}})]}),Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"relation",class:"col-form-label",children:Object(h.jsx)("b",{children:"Relationship:"})}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"relation",value:z,onChange:function(e){return M(e.target.value)}})]}),Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"desc",class:"col-form-label",children:Object(h.jsx)("b",{children:"Description:"})}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"desc",value:J,onChange:function(e){return X(e.target.value)}})]}),Object(h.jsxs)("div",{class:"modal-footer",children:[Object(h.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(h.jsx)("button",{class:"btn btn-primary","data-bs-dismiss":"modal",type:"submit",children:"Save changes"})]})]})})]})})}),Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"City:"})," ",(null===(u=e.user)||void 0===u?void 0:u.city)?null===(j=e.user)||void 0===j?void 0:j.city:"Unknown"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"From:"})," ",(null===(O=e.user)||void 0===O?void 0:O.from)?null===(p=e.user)||void 0===p?void 0:p.from:"Unknown"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"Relationship Status:"})," ",(null===(x=e.user)||void 0===x?void 0:x.relationship)?(null===(m=e.user)||void 0===m?void 0:m.relationship.length)>20?null===(g=e.user)||void 0===g?void 0:g.relationship.slice(0,20):null===(S=e.user)||void 0===S?void 0:S.relationship:"Unknown"]})]})]}),Object(h.jsx)("hr",{}),Object(h.jsx)("strong",{style:{fontSize:"30px"},children:"Friends"}),null!==N?N.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)(f,{id:e})})})):Object(h.jsx)("div",{children:"No friends added"})]})]})}n(55);var g=n(27),S=n.p+"static/media/cover.aa52ea16.jpg";function y(e){var t,n,i,s,c,d,j,O=Object(r.useContext)(v.a).user,p=Object(r.useState)(null),x=Object(a.a)(p,2),f=x[0],m=x[1],g=Object(r.useState)(null),y=Object(a.a)(g,2),_=y[0],w=y[1],E=Object(l.g)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"dp",children:[Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"85%",backgroundColor:"#535151"},className:"dp",children:Object(h.jsx)("img",{style:{maxWidth:"100%",height:"100%"},src:(null===(t=e.user)||void 0===t?void 0:t.coverPicture)?null===(n=e.user)||void 0===n?void 0:n.coverPicture:S,alt:""})}),Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center",position:"relative",top:"-14vw"},children:Object(h.jsx)("div",{style:{height:"20vw",width:"20vw",display:"flex",justifyContent:"center",alignItems:"center",border:"solid white 3px",backgroundColor:"black",overflow:"hidden"},class:"avatar rounded-circle",children:Object(h.jsx)("img",{src:(null===(i=e.user)||void 0===i?void 0:i.profilePicture)?null===(s=e.user)||void 0===s?void 0:s.profilePicture:o.a,alt:"",style:{maxHeight:"100%",maxWidth:"100%"}})})}),Object(h.jsx)("strong",{style:{display:"flex",justifyContent:"center",position:"relative",top:"-13vw",width:"100%"},children:null===(c=e.user)||void 0===c?void 0:c.name})]}),Object(h.jsx)("div",{className:"dp1",children:Object(h.jsx)("strong",{style:{display:"flex",justifyContent:"center",width:"100%",textAlign:"center"},children:null===(d=e.user)||void 0===d?void 0:d.desc})}),Object(h.jsxs)("div",{style:{display:(null===O||void 0===O?void 0:O._id)!==(null===(j=e.user)||void 0===j?void 0:j._id)?"none":""},className:"padding",children:[Object(h.jsxs)("div",{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:[Object(h.jsx)("i",{class:"fas fa-camera fa-2x"}),Object(h.jsx)("b",{children:" Update profile picture"})]}),Object(h.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(h.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:Object(h.jsx)("b",{children:"Upload profile picture"})}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{class:"modal-body",children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.progress(10);var n=u.ref("images/".concat(null===f||void 0===f?void 0:f.name)).put(f);e.progress(30),n.on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){u.ref("images").child(null===f||void 0===f?void 0:f.name).getDownloadURL().then((function(t){var n;e.progress(70),b.a.put(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/".concat(null===(n=e.user)||void 0===n?void 0:n._id),{profilePicture:t}).then(e.progress(100),E.push("/"))}))}))},children:[Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"file"}),Object(h.jsx)("input",{id:"file",type:"file",onChange:function(e){e.target.files[0]&&m(e.target.files[0])}})]}),Object(h.jsxs)("div",{class:"modal-footer",children:[Object(h.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(h.jsx)("button",{className:"btn btn-primary","data-bs-dismiss":"modal",type:"submit",disabled:null===f?"true":"",children:"Upload"})]})]})})]})})}),Object(h.jsxs)("div",{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[Object(h.jsx)("i",{class:"fas fa-camera fa-2x"}),Object(h.jsx)("b",{children:" Update cover picture"})]}),Object(h.jsx)("div",{class:"modal fade",id:"exampleModal1",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(h.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:Object(h.jsx)("b",{children:"Upload cover picture"})}),Object(h.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{class:"modal-body",children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.progress(10);var n=u.ref("images/".concat(null===_||void 0===_?void 0:_.name)).put(_);e.progress(30),n.on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){u.ref("images").child(null===_||void 0===_?void 0:_.name).getDownloadURL().then((function(t){var n;e.progress(70),b.a.put(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/".concat(null===(n=e.user)||void 0===n?void 0:n._id),{coverPicture:t}).then(e.progress(100),E.push("/"))}))}))},children:[Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"file1"}),Object(h.jsx)("input",{id:"file1",type:"file",onChange:function(e){e.target.files[0]&&w(e.target.files[0])}})]}),Object(h.jsxs)("div",{class:"modal-footer",children:[Object(h.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(h.jsx)("button",{className:"btn btn-primary","data-bs-dismiss":"modal",type:"submit",disabled:null===_?"true":"",children:"Upload"})]})]})})]})})})]})]})}var _=n(43);function w(e){var t,n,i=Object(r.useContext)(v.a).user,l=Object(r.useState)(null),o=Object(a.a)(l,2),d=o[0],u=o[1];return Object(r.useEffect)((function(){var t=function(){var t=Object(c.a)(s.a.mark((function t(){var n,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/posts/all/".concat(null===(n=e.user)||void 0===n?void 0:n._id));case 3:i=t.sent,u(i.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[e.user]),Object(h.jsx)(h.Fragment,{children:(null===i||void 0===i?void 0:i._id)===(null===(t=e.user)||void 0===t?void 0:t._id)||(null===(n=e.user)||void 0===n?void 0:n.followers.includes(null===i||void 0===i?void 0:i._id))?Object(h.jsx)("div",{children:0!==(null===d||void 0===d?void 0:d.length)?Object(h.jsx)(h.Fragment,{children:null===d||void 0===d?void 0:d.map((function(e){return Object(h.jsx)(_.a,{post:e})}))}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(h.jsx)("b",{style:{fontSize:"35px",textAlign:"center"},children:"Nothing to Show"})}),Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(h.jsx)("i",{class:"fas fa-camera fa-9x"})})]})}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(h.jsx)("b",{style:{fontSize:"35px",textAlign:"center"},children:"Follow to see posts"})}),Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(h.jsx)("i",{class:"fas fa-camera-retro fa-9x"})})]})})}function E(e){var t=Object(r.useState)(null),n=Object(a.a)(t,2),i=n[0],o=n[1],d=Object(r.useContext)(v.a).user,u=Object(l.h)().username;return Object(r.useEffect)((function(){var e=function(){var e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/name/".concat(u));case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),window.scrollTo(0,0)}),[u]),Object(h.jsx)(h.Fragment,{children:null!==i&&null!==d?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(g.a,{}),Object(h.jsx)("div",{className:"d-flex",children:Object(h.jsxs)("div",{style:{position:"relative",top:"57px",left:"1vw"},children:[Object(h.jsx)(y,{user:i,progress:e.progress}),Object(h.jsx)(x,{user:i,progress:e.progress}),Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsx)("div",{className:"top",style:{paddingTop:"5px"},children:Object(h.jsx)(w,{user:i})}),Object(h.jsx)("div",{style:{position:"relative",top:"10px",left:"1vw"},children:Object(h.jsx)(m,{user:i})})]})]})})]}):Object(h.jsx)("div",{})})}},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n(1),s=n(7),c=(n(55),n(2)),a=n.n(c),r=n(6),l=n(3),o=n(4),d=n.n(o),u=n(43),j=n(9),b=n(8),v=n(0);function O(){var e=Object(i.useContext)(s.a).user,t=Object(i.useState)([]),n=Object(l.a)(t,2),c=n[0],o=n[1],O=Object(i.useState)(null),h=Object(l.a)(O,2),p=h[0],x=h[1];return Object(i.useEffect)((function(){var t=function(){var t=Object(r.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/posts/timeline/".concat(null===e||void 0===e?void 0:e._id));case 3:n=t.sent,x(n.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t();var n=function(){var e=Object(r.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/");case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}),[e]),Object(v.jsx)("div",{children:0!==(null===p||void 0===p?void 0:p.length)?Object(v.jsx)(v.Fragment,{children:null===p||void 0===p?void 0:p.map((function(e){return Object(v.jsx)(u.a,{post:e,bool:!1})}))}):Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{textAlign:"center",paddingTop:"10px",paddingBottom:"10px"},children:Object(v.jsx)("h1",{children:Object(v.jsx)("b",{children:"Follow these people to see their post:-"})})}),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("ul",{className:"nav nav-pills flex-column mb-auto py-2",children:c.map((function(e){return Object(v.jsx)("li",{className:"nav-link link-dark text-decoration-none",children:Object(v.jsxs)("div",{className:"d-flex card-body",children:[Object(v.jsx)(j.b,{to:"/profile/".concat(null===e||void 0===e?void 0:e.name),children:Object(v.jsx)("div",{style:{height:"13vw",width:"13vw",display:"flex",justifyContent:"center",alignItems:"center",border:"solid white 3px",backgroundColor:"black",overflow:"hidden"},class:"avatar rounded-circle",children:Object(v.jsx)("img",{src:(null===e||void 0===e?void 0:e.profilePicture)?null===e||void 0===e?void 0:e.profilePicture:b.a,alt:"",style:{maxHeight:"100%",maxWidth:"100%"}})})}),Object(v.jsx)("div",{style:{width:"60%",height:"13vw",position:"relative",left:"3vw",display:"flex",alignItems:"center"},children:Object(v.jsxs)("ul",{style:{listStyle:"none",fontSize:"2vw"},children:[Object(v.jsx)("li",{children:Object(v.jsx)("strong",{children:null===e||void 0===e?void 0:e.name})}),Object(v.jsxs)("li",{children:[Object(v.jsx)("b",{children:"City:"})," ",(null===e||void 0===e?void 0:e.city)?null===e||void 0===e?void 0:e.city:"Unknown"]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("b",{children:"From:"})," ",(null===e||void 0===e?void 0:e.from)?null===e||void 0===e?void 0:e.from:"Unknown"]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("b",{children:"Relationship Status:"})," ",(null===e||void 0===e?void 0:e.relationship)?null===e||void 0===e?void 0:e.relationship:"Unknown"]})]})})]})})}))})})]})})}var h=n(27),p=n.p+"static/media/gift-1020-542634.2852fa24.png",x=n.p+"static/media/crowd1.7f73f4a1.jpg",f=n(38);function m(){var e=Object(i.useContext)(s.a).user,t=Object(i.useState)([]),n=Object(l.a)(t,2),c=n[0],a=n[1];return Object(i.useEffect)((function(){var t=null===e||void 0===e?void 0:e.followings;t=(null===e||void 0===e?void 0:e.followings)?t.concat(null===e||void 0===e?void 0:e.followers):null===e||void 0===e?void 0:e.followers,a(t)}),[e]),Object(v.jsx)("div",{className:"p-3 bg-light right",children:Object(v.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto",children:[Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"28vw"},children:[Object(v.jsx)("div",{style:{height:"55px",width:"50px"},children:Object(v.jsx)("img",{style:{maxHeight:"100%",maxWidth:"100%"},src:p,alt:""})}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Tarun"})," and ",Object(v.jsx)("strong",{children:"3 others"})," have birthday today!! wish them now"]})]}),Object(v.jsx)("div",{style:{width:"27vw"},children:Object(v.jsx)("img",{style:{width:"27vw",maxHeight:"30vh"},className:"img-fluid",src:x,alt:""})}),Object(v.jsx)("hr",{}),Object(v.jsx)("strong",{style:{fontSize:"4vh"},children:"Online friends"}),c&&0!==c.length&&c.map((function(e){return Object(v.jsx)(f.a,{id:e})}))]})})}function g(){Object(i.useEffect)((function(){window.scrollTo(0,0)}),[]);var e=Object(i.useContext)(s.a).user;return Object(v.jsx)(v.Fragment,{children:null!==e?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(h.a,{}),Object(v.jsxs)("div",{className:"d-flex",children:[Object(v.jsx)("div",{className:"top",style:{position:"relative",top:"57px",left:"1vw"},children:Object(v.jsx)(O,{})}),Object(v.jsx)("div",{style:{position:"relative",top:"65px",left:"2vw"},children:Object(v.jsx)(m,{})})]})]}):Object(v.jsx)("div",{})})}},79:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n(2),s=n.n(i),c=n(6),a=n(3),r=n(1),l=n(27),o=n(4),d=n.n(o),u=n(8),j=n(0);function b(e){var t=Object(r.useState)(null),n=Object(a.a)(t,2),i=n[0],l=n[1];return Object(r.useEffect)((function(){var t=function(){var t=Object(c.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/".concat(e.conversation));case 2:n=t.sent,l(n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(j.jsxs)("div",{className:"d-flex align-items-center nav-link link-dark text-decoration-none",style:{cursor:"pointer"},children:[Object(j.jsx)("img",{src:(null===i||void 0===i?void 0:i.profilePicture)?null===i||void 0===i?void 0:i.profilePicture:u.a,alt:"",width:32,height:32,className:"rounded-circle me-2"}),Object(j.jsx)("strong",{children:null===i||void 0===i?void 0:i.name})]})}var v=n(7),O=n(46);function h(e){var t=Object(r.useState)(null),n=Object(a.a)(t,2),i=n[0],l=n[1];Object(r.useEffect)((function(){var t=function(){var t=Object(c.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/".concat(e.msg.sender));case 2:n=t.sent,l(n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.msg.sender]);var o=Object(r.useContext)(v.a).user;return Object(j.jsxs)("div",{className:o._id===e.msg.sender?"mine":"other",style:{display:"block"},children:[Object(j.jsxs)("div",{style:{display:"flex"},children:[Object(j.jsx)("img",{src:(null===i||void 0===i?void 0:i.profilePicture)?null===i||void 0===i?void 0:i.profilePicture:u.a,alt:"",width:32,height:32,className:"rounded-circle me-2"}),Object(j.jsx)("div",{className:"chat",style:{height:"100%",backgroundColor:o._id!==e.msg.sender?"#afb4b8":"#0d6efd",color:o._id!==e.msg.sender?"black":"white",borderRadius:"25px"},children:Object(j.jsx)("p",{style:{position:"relative",top:"6px",left:"13px",width:"85%"},children:e.msg.text})})]}),Object(j.jsx)("small",{style:{position:"relative",left:"2.5vw"},children:Object(O.a)(e.msg.createdAt)})]})}var p=n(76),x=n(38);function f(){var e=Object(r.useState)(null),t=Object(a.a)(e,2),n=t[0],i=t[1],o=Object(r.useContext)(v.a).user,O=Object(r.useRef)(),f=Object(r.useRef)(),m=Object(r.useState)(null),g=Object(a.a)(m,2),S=(g[0],g[1]),y=Object(r.useState)(""),_=Object(a.a)(y,2),w=_[0],E=_[1],C=Object(r.useState)(null),T=Object(a.a)(C,2),R=T[0],N=T[1],k=Object(r.useState)(null),D=Object(a.a)(k,2),U=D[0],P=D[1],L=Object(r.useState)(null),F=Object(a.a)(L,2),W=F[0],H=F[1],K=Object(r.useState)(null),A=Object(a.a)(K,2),I=A[0],B=A[1],V=Object(r.useState)([]),z=Object(a.a)(V,2),M=z[0],G=z[1];Object(r.useEffect)((function(){O.current=Object(p.a)("ws://localhost:8800"),O.current.on("getMessage",(function(e){H({sender:e.senderId,text:e.text,createdAt:Date.now()})}))}),[]),Object(r.useEffect)((function(){var e;O.current.emit("addUser",null===o||void 0===o?void 0:o._id);var t=null===o||void 0===o?void 0:o.following;0!==(null===(e=t=(null===o||void 0===o?void 0:o.following)?t.concat(null===o||void 0===o?void 0:o.followers.filter((function(e){return!(null===o||void 0===o?void 0:o.following.includes(e))}))):null===o||void 0===o?void 0:o.followers)||void 0===e?void 0:e.length)&&i(t)}),[o]),Object(r.useEffect)((function(){O.current.on("getUser",(function(e){G(null===n||void 0===n?void 0:n.filter((function(t){return e.some((function(e){return e.userId===t}))})))}))}),[n]),Object(r.useEffect)((function(){W&&(null===R||void 0===R?void 0:R.members.includes(W.sender))&&B(W)}),[W,R]),Object(r.useEffect)((function(){var e=function(){var e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/conversation/".concat(null===o||void 0===o?void 0:o._id));case 2:t=e.sent,S(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[null===o||void 0===o?void 0:o._id]);var q=Object(r.useState)(null),J=Object(a.a)(q,2),X=J[0],Y=J[1];Object(r.useEffect)((function(){var e=function(){var e=Object(c.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null===R||void 0===R?void 0:R.members.find((function(e){return e!==o._id})),e.next=3,d.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/users/".concat(t));case 3:n=e.sent,Y(n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[R]);var Z=function(){var e=Object(c.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=R.members.find((function(e){return e!==o._id})),console.log(t),O.current.emit("sendMessage",{senderId:o._id,receiverId:t,text:w}),e.next=5,d.a.post(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/messages",{conversationId:R._id,sender:o._id,text:w});case 5:n=e.sent,B(n.data),E("");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=function(){var e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/messages/".concat(null===R||void 0===R?void 0:R._id));case 2:t=e.sent,P(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[R,I]),Object(r.useEffect)((function(){var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end"})}),[U]);var $=function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/conversation/".concat(t,"/").concat(o._id));case 2:n=e.sent,N(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(s.a.mark((function e(t){var n,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/conversation/".concat(t,"/").concat(o._id));case 2:if("no convo"===(n=e.sent).data){e.next=7;break}N(n.data),e.next=15;break;case 7:return e.next=9,d.a.post(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/conversation",{senderId:o._id,receiverId:t});case 9:if(!e.sent.data){e.next=15;break}return e.next=13,d.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/conversation/".concat(t,"/").concat(o._id));case 13:i=e.sent,N(i.data);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l.a,{}),Object(j.jsxs)("div",{className:"d-flex",style:{overflowX:"hidden",overflowY:"hidden"},children:[Object(j.jsxs)("div",{className:"p-3 bg-light bar",style:{position:"relative",top:"57px"},children:[Object(j.jsx)("strong",{style:{fontSize:"25px"},children:"Conversations"}),Object(j.jsx)("hr",{}),Object(j.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:n?n.map((function(e){return Object(j.jsx)("li",{onClick:function(){return Q(e)},children:Object(j.jsx)(b,{conversation:e})})})):Object(j.jsx)("div",{children:Object(j.jsx)("b",{children:"Add friends to start conversation"})})})]}),Object(j.jsx)("div",{className:"midmessage",style:{position:"relative",top:"57px",left:"2vw"},children:Object(j.jsx)("div",{className:"card mb-3",style:{height:"97.8vh"},children:Object(j.jsx)("div",{className:"card-body",children:R?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{style:{height:"5vh",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:(null===X||void 0===X?void 0:X.profilePicture)?null===X||void 0===X?void 0:X.profilePicture:u.a,alt:"",width:32,height:32,className:"rounded-circle me-2"}),Object(j.jsx)("strong",{children:null===X||void 0===X?void 0:X.name})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"arrow",style:{cursor:"pointer",paddingRight:"20px"},type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:Object(j.jsx)("i",{class:"fas fa-arrow-down"})}),Object(j.jsx)("div",{className:"online",style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop1",children:Object(j.jsx)("i",{class:"fas fa-blog"})})]}),Object(j.jsx)("div",{class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(j.jsx)("div",{class:"modal-dialog",children:Object(j.jsxs)("div",{class:"modal-content",children:[Object(j.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(j.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:Object(j.jsx)("b",{children:"Converations"})}),Object(j.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{class:"modal-body",children:Object(j.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:n?n.map((function(e){return Object(j.jsx)("li",{"data-bs-dismiss":"modal",onClick:function(){return Q(e)},children:Object(j.jsx)(b,{conversation:e})})})):Object(j.jsx)("div",{children:Object(j.jsx)("b",{children:"Add friends to start conversation"})})})}),Object(j.jsx)("div",{class:"modal-footer",children:Object(j.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})}),Object(j.jsx)("div",{class:"modal fade",id:"staticBackdrop1","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(j.jsx)("div",{class:"modal-dialog",children:Object(j.jsxs)("div",{class:"modal-content",children:[Object(j.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(j.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:Object(j.jsx)("b",{children:"Online Users"})}),Object(j.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{class:"modal-body",children:Object(j.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:M&&0!==M.length?M.map((function(e){return Object(j.jsx)("li",{"data-bs-dismiss":"modal",onClick:function(){return $(e)},style:{cursor:"pointer"},children:Object(j.jsx)(x.a,{id:e})})})):Object(j.jsx)("div",{children:Object(j.jsx)("b",{children:"No one is online"})})})}),Object(j.jsx)("div",{class:"modal-footer",children:Object(j.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{className:"textheight",style:{overflowY:"scroll",overflowX:"hidden"},children:Object(j.jsx)("div",{ref:f,children:U&&U.map((function(e){return Object(j.jsx)(h,{msg:e})}))})}),Object(j.jsxs)("div",{style:{display:"flex",position:"absolute",bottom:"50px",width:"100%"},children:[Object(j.jsx)("textarea",{className:"textwidth",placeholder:"Write something....",style:{resize:"none",height:"20vh",borderRadius:"5px"},value:w,onChange:function(e){return E(e.target.value)}}),Object(j.jsx)("button",{type:"button",className:"btn btn-success buttonwidth",style:{height:"40px",position:"relative",left:"3px"},disabled:""===w?"true":"",onClick:Z,children:"Send"})]})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"arrow",style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:Object(j.jsx)("i",{class:"fas fa-arrow-down"})}),Object(j.jsx)("div",{class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(j.jsx)("div",{class:"modal-dialog",children:Object(j.jsxs)("div",{class:"modal-content",children:[Object(j.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(j.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:Object(j.jsx)("b",{children:"Coverations"})}),Object(j.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{class:"modal-body",children:Object(j.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:n?n.map((function(e){return Object(j.jsx)("li",{"data-bs-dismiss":"modal",onClick:function(){return Q(e)},children:Object(j.jsx)(b,{conversation:e})})})):Object(j.jsx)("div",{children:Object(j.jsx)("b",{children:"Add friends to start conversation"})})})}),Object(j.jsx)("div",{class:"modal-footer",children:Object(j.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})}),Object(j.jsx)("div",{style:{fontSize:"40px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",height:"85vh"},children:Object(j.jsx)("strong",{children:"Open a conversation to start chat"})})]})})})}),Object(j.jsxs)("div",{className:"tar",style:{position:"relative",top:"65px",left:"4vw",width:"22vw"},children:[Object(j.jsx)("strong",{style:{fontSize:"30px"},children:"Online friends"}),Object(j.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto",children:[Object(j.jsx)("hr",{}),M&&0!==M.length?M.map((function(e){return Object(j.jsx)("li",{onClick:function(){return $(e)},style:{cursor:"pointer"},children:Object(j.jsx)(x.a,{id:e})})})):Object(j.jsx)("div",{children:Object(j.jsx)("b",{children:"No one is online"})})]})]})]})]})}},8:function(e,t,n){"use strict";t.a=n.p+"static/media/user.2fda6558.png"},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n(1),s=n(2),c=n.n(s),a=n(6),r=n(4),l=n.n(r),o=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"LOGIN_START"}),e.prev=1,e.next=4,l.a.post(Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL+"api/auth/login",t);case 4:i=e.sent,n({type:"LOGIN_SUCCESS",payload:i.data.user}),sessionStorage.setItem("token",i.data.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n({type:"LOGIN_FAILURE",payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),d=n(7),u=n(130),j=n(9),b=n(0);function v(){var e=Object(i.useRef)(),t=Object(i.useRef)(),n=Object(i.useContext)(d.a),s=(n.user,n.isFetching),c=(n.error,n.dispatch);return Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"rgb(198 195 195)"},children:[Object(b.jsxs)("div",{className:"responsive",children:[Object(b.jsx)("strong",{style:{fontSize:"70px"},children:Object(b.jsx)("span",{className:"badge bg-primary",children:"Smart-Chats"})}),Object(b.jsx)("p",{style:{fontSize:"25px",width:"25vw"},children:Object(b.jsx)("b",{children:" Connect with friends around world and chat with them."})})]}),Object(b.jsx)("div",{className:"w1",style:{backgroundColor:"white",position:"relative",left:"1vw",border:"solid #fcfaf8 1px",borderRadius:"10px"},children:Object(b.jsxs)("form",{action:"",className:"w1",style:{position:"relative",paddingBottom:"90px"},onSubmit:function(n){n.preventDefault(),o({email:e.current.value,password:t.current.value},c)},children:[Object(b.jsx)("input",{type:"email",required:!0,style:{width:"90%",height:" 50px ",position:"relative",top:"15px",borderRadius:"10px",border:"solid #cfc9c9 2px"},placeholder:"Email",ref:e}),Object(b.jsx)("input",{type:"password",required:!0,style:{width:"90%",height:" 50px ",position:"relative",top:"30px",borderRadius:"10px",border:"solid #cfc9c9 2px"},minLength:"6",placeholder:"Password",ref:t}),Object(b.jsx)("div",{style:{width:"90%",height:"25px"},children:Object(b.jsx)("p",{style:{display:"flex",justifyContent:"center",position:"relative",top:"45px",color:"#1877f2"},children:Object(b.jsx)("b",{children:"Forgot Password?"})})}),Object(b.jsx)("button",{className:"btn btn-primary",type:"submit",style:{width:"90%",height:" 50px ",position:"relative",top:"60px",borderRadius:"10px"},children:Object(b.jsx)("b",{children:s?Object(b.jsx)(u.a,{color:"inherit",size:"4vh"}):"Log In"})}),Object(b.jsx)("div",{style:{width:"90%",display:"flex",justifyContent:"center",position:"relative",top:"75px",textAlign:"center"},children:Object(b.jsxs)("b",{children:["Don't have an account?",Object(b.jsx)(j.b,{to:"/signup",children:"Create Account"})]})})]})})]})}},86:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){}},[[122,1,2]]]);
//# sourceMappingURL=main.d309fedd.chunk.js.map