(this["webpackJsonpsmart-chats"]=this["webpackJsonpsmart-chats"]||[]).push([[0],{122:function(e,t,s){"use strict";s.r(t);var n=s(1),i=s.n(n),a=s(64),c=s.n(a),r=(s(86),s(65)),l=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,132)).then((function(t){var s=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;s(e),n(e),i(e),a(e),c(e)}))},o=s(7),d=s(131),u=s(0);c.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(d.a,{children:Object(u.jsx)(o.b,{children:Object(u.jsx)(r.a,{})})})}),document.getElementById("root")),l()},27:function(e,t,s){"use strict";s.d(t,"a",(function(){return v}));var n=s(2),i=s.n(n),a=s(6),c=s(3),r=s(1),l=s(5),o=s(9),d=s(7),u=s(8),j=s(4),b=s.n(j),h=s(0);function v(){var e=Object(l.g)(),t=Object(r.useContext)(d.a),s=t.user,n=t.dispatch,j=t.error,v=Object(r.useState)(""),p=Object(c.a)(v,2),x=p[0],f=p[1],O=function(){var t=Object(a.a)(i.a.mark((function t(s){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.next=3,b.a.get("https://smart-chat15.herokuapp.com/"+"api/users/find/".concat(x));case 3:n=t.sent,e.push("/search/".concat(x)),console.log(n.data);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsx)("nav",{className:"navbar fixed-top navbar-expand-md navbar-dark",style:{backgroundColor:"#1877f2"},children:Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsxs)("div",{className:"navbar-brand",style:{display:"flex",alignItems:"center"},children:[Object(h.jsxs)("div",{class:"dropend",children:[Object(h.jsx)("img",{type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",src:(null===s||void 0===s?void 0:s.profilePicture)?null===s||void 0===s?void 0:s.profilePicture:u.a,alt:"",width:32,height:32,className:"rounded-circle me-2 dropdown-toggle"}),Object(h.jsxs)("ul",{class:"dropdown-menu",children:[Object(h.jsx)("li",{children:Object(h.jsx)(o.b,{to:"/profile/".concat(null===s||void 0===s?void 0:s.name),class:"dropdown-item",children:Object(h.jsx)("b",{children:"Profile"})})}),Object(h.jsx)("li",{children:Object(h.jsx)(o.b,{className:"dropdown-item",to:"/messenger",children:Object(h.jsx)("b",{children:"Messages"})})}),Object(h.jsx)("li",{onClick:function(){sessionStorage.removeItem("token"),n({type:"LOGIN_FAILURE",payload:j}),e.push("/login")},style:{cursor:"pointer"},class:"dropdown-item",children:Object(h.jsx)("b",{children:"Log out"})})]})]}),Object(h.jsx)("b",{children:"Smart-Chats"})]}),Object(h.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(h.jsx)("span",{className:"navbar-toggler-icon"})}),Object(h.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(h.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-md-0",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(o.b,{className:"nav-link active","aria-current":"page",to:"/",children:"Homepage"})}),Object(h.jsx)("li",{className:"nav-item hide",style:{alignItems:"center"},children:Object(h.jsx)(o.b,{to:"/messenger",children:Object(h.jsx)("i",{className:"fas fa-comment-alt nav-link active"})})})]}),Object(h.jsxs)("form",{className:"d-flex",onSubmit:O,children:[Object(h.jsx)("input",{value:x,onChange:function(e){return f(e.target.value)},className:"form-control me-2",type:"search",placeholder:"Search for friends","aria-label":"Search",style:{width:"30vw",borderRadius:"2vh",border:"solid black .2vh"}}),Object(h.jsxs)("button",{className:"btn",type:"submit",style:{display:"flex",alignItems:"center",backgroundColor:"#1877f2"},children:[" ",Object(h.jsx)("i",{className:"fas fa-search"})]})]})]})]})})})}},35:function(e,t,s){"use strict";s.d(t,"a",(function(){return j}));var n=s(2),i=s.n(n),a=s(6),c=s(4),r=s.n(c),l=s(1),o=s(5),d=s(9),u=s(0);function j(){var e=Object(l.useRef)(),t=Object(l.useRef)(),s=Object(l.useRef)(),n=Object(l.useRef)(),c=Object(o.g)(),j=function(){var l=Object(a.a)(i.a.mark((function a(l){var o;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(l.preventDefault(),s.current.value===n.current.value){i.next=5;break}s.current.setCustomValidity("Passwords don't match"),i.next=15;break;case 5:return o={name:e.current.value,email:t.current.value,password:s.current.value,cpassword:n.current.value},i.prev=6,i.next=9,r.a.post("https://smart-chat15.herokuapp.com/api/auth",o);case 9:c.push("/login"),i.next=15;break;case 12:i.prev=12,i.t0=i.catch(6),console.log(i.t0);case 15:case"end":return i.stop()}}),a,null,[[6,12]])})));return function(e){return l.apply(this,arguments)}}();return Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"rgb(198 195 195)"},children:[Object(u.jsxs)("div",{className:"responsive",children:[Object(u.jsx)("strong",{style:{fontSize:"70px"},children:Object(u.jsx)("span",{className:"badge bg-primary",children:"Smart-Chats"})}),Object(u.jsx)("p",{style:{fontSize:"25px",width:"25vw"},children:Object(u.jsx)("b",{children:" Connect with friends around world and chat with them."})})]}),Object(u.jsx)("div",{className:"w1",style:{backgroundColor:"white",position:"relative",left:"1vw",border:"solid #fcfaf8 1px",borderRadius:"10px"},children:Object(u.jsxs)("form",{action:"",className:"w1",style:{position:"relative",paddingBottom:"90px"},onSubmit:j,children:[Object(u.jsx)("input",{type:"text",style:{width:"90%",height:"50px",position:"relative",top:"15px",borderRadius:"10px",border:"solid #cfc9c9 2px"},placeholder:"Username without space",pattern:"^\\S+$",required:!0,ref:e}),Object(u.jsx)("input",{type:"email",style:{width:"90%",height:" 50px ",position:"relative",top:"30px",borderRadius:"10px",border:"solid #cfc9c9 2px"},placeholder:"Email",required:!0,ref:t}),Object(u.jsx)("input",{type:"password",style:{width:"90%",height:"50px",position:"relative",top:"45px",borderRadius:"10px",border:"solid #cfc9c9 2px"},placeholder:"Password",required:!0,ref:s,minLength:"6"}),Object(u.jsx)("input",{type:"password",style:{width:"90%",height:"50px",position:"relative",top:"60px",borderRadius:"10px",border:"solid #cfc9c9 2px"},placeholder:"Confirm Password",required:!0,ref:n,minLength:"6"}),Object(u.jsx)("button",{className:"btn btn-primary",style:{width:"90%",height:"50px",position:"relative",top:"75px",borderRadius:"10px"},type:"submit",children:Object(u.jsx)("b",{children:"Sign Up"})}),Object(u.jsx)("div",{style:{width:"90%",height:"50px",display:"flex",justifyContent:"center",position:"relative",top:"90px",textAlign:"center"},children:Object(u.jsxs)("b",{children:["Already have an account?",Object(u.jsx)(d.b,{to:"/login",children:"Log In"})]})})]})})]})}},38:function(e,t,s){"use strict";s.d(t,"a",(function(){return j}));var n=s(2),i=s.n(n),a=s(6),c=s(3),r=s(1),l=s(8),o=s(4),d=s.n(o),u=s(0);function j(e){var t=Object(r.useState)({}),s=Object(c.a)(t,2),n=s[0],o=s[1];return Object(r.useEffect)((function(){var t=function(){var t=Object(a.a)(i.a.mark((function t(){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("https://smart-chat15.herokuapp.com/"+"api/users/".concat(e.id));case 2:s=t.sent,o(s.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.id]),Object(u.jsxs)("div",{className:"d-flex align-items-center nav-link link-dark text-decoration-none",children:[Object(u.jsx)("img",{src:n.profilePicture?n.profilePicture:l.a,alt:"",width:32,height:32,className:"rounded-circle me-2"}),Object(u.jsx)("span",{className:"position-absolute top-1 start-1 translate-middle p-2 bg-success border border-light rounded-circle",children:Object(u.jsx)("span",{className:"visually-hidden",children:"New alerts"})}),Object(u.jsx)("strong",{children:n.name})]})}},43:function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var n=s(2),i=s.n(n),a=s(6),c=s(3),r=s(1),l=s(4),o=s.n(l),d=s(8),u=s(46),j=s(7),b=s(5),h=s(9),v=s(0);function p(e){var t,s=Object(r.useContext)(j.a).user,n=Object(r.useState)({}),l=Object(c.a)(n,2),p=l[0],x=l[1],f=Object(r.useState)(),O=Object(c.a)(f,2),m=O[0],g=O[1],y=Object(r.useState)(e.post.likes.length),w=Object(c.a)(y,2),k=w[0],C=w[1],S=Object(r.useState)(),N=Object(c.a)(S,2),_=N[0],I=N[1],F=Object(b.g)();console.log(e.post),Object(r.useEffect)((function(){g(e.post.likes.includes(null===s||void 0===s?void 0:s._id))}),[s]),Object(r.useEffect)((function(){I(m?"fas":"far")}),[m]),Object(r.useEffect)((function(){var t=function(){var t=Object(a.a)(i.a.mark((function t(){var s,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("https://smart-chat15.herokuapp.com/"+"api/users/".concat(null===(s=e.post)||void 0===s?void 0:s.userId));case 2:n=t.sent,x(n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[null===(t=e.post)||void 0===t?void 0:t.userId]);var R=function(){var t=Object(a.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return C(m?k-1:k+1),I(m?"far":"fas"),g(!m),t.next=5,o.a.put("https://smart-chat15.herokuapp.com/"+"api/posts/".concat(e.post._id,"/like"),{userId:s._id});case 5:console.log(p._id),console.log(s._id);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(a.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure,you want to delete this post??")){t.next=5;break}return t.next=3,o.a.delete("https://smart-chat15.herokuapp.com/"+"api/posts/".concat(e.post._id));case 3:"successfully deleted"===t.sent.data&&F.push("/");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"card mb-3",style:{position:"relative",top:"8px"},children:Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsxs)("div",{className:"card-title d-flex justify-content-between",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(h.b,{to:"/profile/".concat(null===p||void 0===p?void 0:p.name),children:Object(v.jsx)("img",{src:(null===p||void 0===p?void 0:p.profilePicture)?null===p||void 0===p?void 0:p.profilePicture:d.a,alt:"",width:32,height:32,className:"rounded-circle me-2"})}),Object(v.jsx)("strong",{children:null===p||void 0===p?void 0:p.name}),Object(v.jsx)("small",{style:{position:"relative",left:"1.5vw"},children:Object(u.a)(e.post.createdAt)})]}),Object(v.jsx)("i",{style:{cursor:"pointer",display:(null===s||void 0===s?void 0:s._id)!==(null===p||void 0===p?void 0:p._id)||!1===e.bool?"none":""},onClick:E,class:"fas fa-trash"})]}),Object(v.jsx)("p",{children:Object(v.jsx)("strong",{children:e.post.desc})}),Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(v.jsx)("img",{style:{maxWidth:"100%"},src:e.post.img,alt:""})}),Object(v.jsxs)("div",{style:{position:"relative",top:"5px",display:"flex",alignItems:"center",paddingTop:"10px"},children:[Object(v.jsx)("i",{onClick:R,style:{cursor:"pointer"},className:"".concat(_," fa-heart fa-2x")}),Object(v.jsxs)("span",{style:{position:"relative",left:".6vw"},children:[k," likes"]})]})]})})}},55:function(e,t,s){"use strict";s(1),s(0)},65:function(e,t,s){"use strict";(function(e){var n=s(3),i=s(2),a=s.n(i),c=s(6),r=(s(88),s(89),s(78)),l=s(77),o=s(80),d=s(35),u=s(79),j=s(7),b=s(74),h=s(75),v=s(9),p=s(5),x=s(1),f=s(4),O=s.n(f),m=s(0);t.a=function(){var t=Object(x.useContext)(j.a),s=t.user,i=t.dispatch,f=function(){var t=Object(c.a)(a.a.mark((function t(s){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get(e.Env.PORT+"api/users/".concat(s));case 2:n=t.sent,i({type:"LOGIN_SUCCESS",payload:n.data}),console.log(n.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=Object(x.useState)(0),y=Object(n.a)(g,2),w=y[0],k=y[1],C=function(){var t=Object(c.a)(a.a.mark((function t(s){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get(e.Env.PORT+"api/auth/verify",{headers:{token:s}});case 3:n=t.sent,f(n.data._id),console.log(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(x.useEffect)((function(){sessionStorage.getItem("token")&&C(sessionStorage.getItem("token"))}),[]),Object(m.jsxs)(v.a,{basename:Object({NODE_ENV:"production",PUBLIC_URL:"/smart-chats15",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_URL:"https://smart-chat15.herokuapp.com/"}).URL,children:[Object(m.jsx)(b.a,{color:"white",height:"3px",progress:w}),Object(m.jsxs)(p.d,{children:[Object(m.jsx)(p.b,{exact:!0,path:"/",children:s||sessionStorage.getItem("token")?Object(m.jsx)(r.a,{}):Object(m.jsx)(d.a,{})}),Object(m.jsx)(p.b,{exact:!0,path:"/messenger",children:s||sessionStorage.getItem("token")?Object(m.jsx)(u.a,{}):Object(m.jsx)(d.a,{})}),Object(m.jsx)(p.b,{exact:!0,path:"/login",children:s||sessionStorage.getItem("token")?Object(m.jsx)(p.a,{to:"/"}):Object(m.jsx)(o.a,{})}),Object(m.jsx)(p.b,{exact:!0,path:"/signup",children:s||sessionStorage.getItem("token")?Object(m.jsx)(p.a,{to:"/"}):Object(m.jsx)(d.a,{})}),Object(m.jsx)(p.b,{exact:!0,path:"/profile/:username",children:s||sessionStorage.getItem("token")?Object(m.jsx)(l.a,{progress:k}):Object(m.jsx)(d.a,{})}),Object(m.jsx)(p.b,{exact:!0,path:"/search/:username",children:s||sessionStorage.getItem("token")?Object(m.jsx)(h.a,{}):Object(m.jsx)(d.a,{})})]})]})}}).call(this,s(54))},7:function(e,t,s){"use strict";s.d(t,"a",(function(){return l})),s.d(t,"b",(function(){return o}));var n=s(3),i=s(1),a=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:t.payload};default:return e}},c=s(0),r={user:null,isFetching:!1,error:!1},l=Object(i.createContext)(r),o=function(e){var t=e.children,s=Object(i.useReducer)(a,r),o=Object(n.a)(s,2),d=o[0],u=o[1];return Object(c.jsx)(l.Provider,{value:{user:d.user,isFetching:d.isFetching,error:d.error,dispatch:u},children:t})}},75:function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var n=s(2),i=s.n(n),a=s(6),c=s(3),r=s(1),l=s(5),o=s(27),d=s(9),u=s(4),j=s.n(u),b=s(8),h=s(7),v=s(0);function p(){var e=Object(r.useState)(null),t=Object(c.a)(e,2),s=t[0],n=t[1],u=Object(l.h)().username,p=Object(r.useContext)(h.a).user;return Object(r.useEffect)((function(){var e=function(){var e=Object(a.a)(i.a.mark((function e(){var t,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://smart-chat15.herokuapp.com/api/users/");case 2:t=e.sent,s=t.data.filter((function(e){return e.name.includes(u)})),n(s);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[u]),Object(v.jsx)(v.Fragment,{children:null!==p&&null!=s?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(o.a,{}),Object(v.jsx)("div",{className:"container",style:{position:"relative",top:"57px",width:"85vw"},children:0!==s.length?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("ul",{className:"nav nav-pills flex-column mb-auto py-2",children:s.map((function(e){return Object(v.jsx)("li",{className:"nav-link link-dark text-decoration-none",style:{listStyle:"none"},children:Object(v.jsxs)("div",{className:"card-body d-flex",children:[Object(v.jsx)(d.b,{to:"/profile/".concat(null===e||void 0===e?void 0:e.name),children:Object(v.jsx)("div",{style:{height:"15vw",width:"15vw",display:"flex",justifyContent:"center",alignItems:"center",border:"solid white 3px",backgroundColor:"black",overflow:"hidden"},class:"avatar rounded-circle",children:Object(v.jsx)("img",{src:(null===e||void 0===e?void 0:e.profilePicture)?null===e||void 0===e?void 0:e.profilePicture:b.a,alt:"",style:{maxHeight:"100%",maxWidth:"100%"}})})}),Object(v.jsx)("div",{style:{width:"100%",height:"15vw",position:"relative",display:"flex",alignItems:"center"},children:Object(v.jsxs)("ul",{style:{listStyle:"none",fontSize:"2vw"},children:[Object(v.jsx)("li",{children:Object(v.jsx)("strong",{children:null===e||void 0===e?void 0:e.name})}),Object(v.jsxs)("li",{children:[Object(v.jsx)("b",{children:"City:"})," ",(null===e||void 0===e?void 0:e.city)?null===e||void 0===e?void 0:e.city:"Unknown"]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("b",{children:"From:"})," ",(null===e||void 0===e?void 0:e.from)?null===e||void 0===e?void 0:e.from:"Unknown"]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("b",{children:"Relationship Status:"})," ",(null===e||void 0===e?void 0:e.relationship)?null===e||void 0===e?void 0:e.relationship:"Unknown"]})]})})]})})}))})}):Object(v.jsx)("div",{style:{fontSize:"80px",display:"flex",justifyContent:"center",textAlign:"center"},children:"No results found"})})]}):Object(v.jsx)("div",{})})}},77:function(e,t,s){"use strict";s.d(t,"a",(function(){return S}));var n=s(2),i=s.n(n),a=s(6),c=s(3),r=s(1),l=s(5),o=s(8),d=s(44);s(121);d.a.initializeApp({apiKey:"AIzaSyAH5d3Wjr_NgyJgdx9ra7WjZOzmVx08eHk",authDomain:"fir-react-upload-391f1.firebaseapp.com",projectId:"fir-react-upload-391f1",storageBucket:"fir-react-upload-391f1.appspot.com",messagingSenderId:"815346693654",appId:"1:815346693654:web:9d67a268ca505c96fa6737",measurementId:"G-J6R2THCK2K"});var u=d.a.storage(),j=s(4),b=s.n(j),h=s(7),v=s(9),p=s(0);function x(e){var t=Object(r.useState)({}),s=Object(c.a)(t,2),n=s[0],l=s[1];return Object(r.useEffect)((function(){var t=function(){var t=Object(a.a)(i.a.mark((function t(){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("https://smart-chat15.herokuapp.com/"+"api/users/".concat(e.id));case 2:s=t.sent,l(s.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.id]),Object(p.jsxs)("div",{className:"d-flex nav-link link-dark text-decoration-none",children:[Object(p.jsx)(v.b,{to:"/profile/".concat(null===n||void 0===n?void 0:n.name),children:Object(p.jsx)("div",{style:{height:"25vw",width:"25vw",display:"flex",justifyContent:"center",alignItems:"center",border:"solid white 3px",backgroundColor:"black",overflow:"hidden"},class:"avatar rounded-circle",children:Object(p.jsx)("img",{src:(null===n||void 0===n?void 0:n.profilePicture)?null===n||void 0===n?void 0:n.profilePicture:o.a,alt:"",style:{maxHeight:"100%",maxWidth:"100%"}})})}),Object(p.jsx)("div",{style:{width:"53vw",height:"25vw",position:"relative",left:"-2.5vw",display:"flex",alignItems:"center"},children:Object(p.jsxs)("ul",{style:{listStyle:"none",fontSize:"2.8vw"},children:[Object(p.jsx)("li",{children:Object(p.jsx)("strong",{children:null===n||void 0===n?void 0:n.name})}),Object(p.jsxs)("li",{children:[Object(p.jsx)("b",{children:"City:"})," ",(null===n||void 0===n?void 0:n.city)?null===n||void 0===n?void 0:n.city:"Unknown"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("b",{children:"From:"})," ",(null===n||void 0===n?void 0:n.from)?null===n||void 0===n?void 0:n.from:"Unknown"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("b",{children:"Relationship Status:"})," ",(null===n||void 0===n?void 0:n.relationship)?(null===n||void 0===n?void 0:n.relationship.length)>20?(null===n||void 0===n?void 0:n.relationship.slice(0,20))+"...":null===n||void 0===n?void 0:n.relationship:"Unknown"]})]})})]})}function f(e){var t,s,n,d,j,v,f,O,m,g,y,w,k,C,S,N,_,I=Object(l.g)(),F=Object(r.useContext)(h.a).user,R=Object(r.useState)(null),E=Object(c.a)(R,2),U=E[0],P=E[1],L=Object(r.useRef)(),A=Object(r.useState)(null===(t=e.user)||void 0===t?void 0:t.followers.includes(null===F||void 0===F?void 0:F._id)),D=Object(c.a)(A,2),B=D[0],T=D[1],z=Object(r.useState)(null),M=Object(c.a)(z,2),W=M[0],H=M[1];Object(r.useEffect)((function(){var t,s,n;console.log(null===F||void 0===F?void 0:F._id),console.log(null===(t=e.user)||void 0===t?void 0:t._id),console.log(null===(s=e.user)||void 0===s?void 0:s.followers.includes(null===F||void 0===F?void 0:F._id)),T(null===(n=e.user)||void 0===n?void 0:n.followers.includes(null===F||void 0===F?void 0:F._id))}),[F,null===(s=e.user)||void 0===s?void 0:s._id]),Object(r.useEffect)((function(){var t,s,n,i,a=null===(t=e.user)||void 0===t?void 0:t.following;(null===(s=e.user)||void 0===s?void 0:s.following)?a=a.concat(null===(n=e.user)||void 0===n?void 0:n.followers.filter((function(t){var s;return!(null===(s=e.user)||void 0===s?void 0:s.following.includes(t))}))):a=null===(i=e.user)||void 0===i?void 0:i.followers;0!==a.length&&H(a)}),[e.user]);var G=function(){var t=Object(a.a)(i.a.mark((function t(){var s,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(B){t.next=7;break}return t.next=3,b.a.put("https://smart-chat15.herokuapp.com/"+"api/users/".concat(null===(s=e.user)||void 0===s?void 0:s._id,"/follow"),{userId:null===F||void 0===F?void 0:F._id});case 3:"you are following"===t.sent.data&&window.location.reload(),t.next=11;break;case 7:return t.next=9,b.a.put("https://smart-chat15.herokuapp.com/"+"api/users/".concat(null===(n=e.user)||void 0===n?void 0:n._id,"/unfollow"),{userId:null===F||void 0===F?void 0:F._id});case 9:"you are unfollowing"===t.sent.data&&window.location.reload();case 11:T(!B);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),q=function(){var e=Object(a.a)(i.a.mark((function e(t){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===V&&""===$&&""===se&&""===ce){e.next=10;break}return e.next=4,b.a.put("https://smart-chat15.herokuapp.com/"+"api/users/".concat(null===F||void 0===F?void 0:F._id),{city:""!==V?V:F.city,from:""!==$?$:F.from,relationship:""!==se?se:F.relationship,desc:""!==ce?ce:F.desc});case 4:s=e.sent,X(""),Q(""),ne(""),re(""),"successfully updated"===s.data&&window.location.reload();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=Object(r.useState)(""),J=Object(c.a)(K,2),V=J[0],X=J[1],Y=Object(r.useState)(""),Z=Object(c.a)(Y,2),$=Z[0],Q=Z[1],ee=Object(r.useState)(""),te=Object(c.a)(ee,2),se=te[0],ne=te[1],ie=Object(r.useState)(""),ae=Object(c.a)(ie,2),ce=ae[0],re=ae[1];return Object(p.jsx)(p.Fragment,{children:null!==e.user&&null!==F?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"card mb-3 upload",style:{position:"relative",top:"15px",display:(null===F||void 0===F?void 0:F._id)!==(null===(n=e.user)||void 0===n?void 0:n._id)?"none":""},children:Object(p.jsx)("div",{className:"card-body",children:Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.progress(10);var s=u.ref("images/".concat(null===U||void 0===U?void 0:U.name)).put(U);e.progress(30),s.on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){u.ref("images").child(U.name).getDownloadURL().then((function(t){e.progress(70),b.a.post("https://smart-chat15.herokuapp.com/api/posts",{userId:e.user._id,img:t,desc:L.current.value}).then(e.progress(100),I.push("/"))}))}))},children:[Object(p.jsxs)("div",{className:"card-title d-flex",children:[Object(p.jsx)("img",{src:(null===(d=e.user)||void 0===d?void 0:d.profilePicture)?null===(j=e.user)||void 0===j?void 0:j.profilePicture:o.a,alt:"",width:40,height:40,className:"rounded-circle me-2"}),Object(p.jsx)("input",{className:"textarea",style:{border:"none",outline:"none",position:"relative",left:"1vw"},id:"",placeholder:"What's in your mind...",ref:L})]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("div",{className:"row row-cols-sm-1 row-cols-md-3 align-items-stretch g-2",style:{position:"relative",top:"3vh",paddingBottom:"30px"},children:[Object(p.jsxs)("div",{className:"col",style:{position:"relative",left:"2vw"},children:[Object(p.jsx)("i",{class:"far fa-images fa-2x"}),Object(p.jsx)("b",{children:"   Upload images"})]}),Object(p.jsx)("input",{style:{position:"relative",left:"2vw"},type:"file",id:"file",onChange:function(e){e.target.files[0]&&P(e.target.files[0])}}),Object(p.jsx)("div",{style:{position:"relative",left:"2vw"},children:Object(p.jsx)("button",{className:"btn btn-success",type:"submit",disabled:null===U?"true":"",children:"Share"})})]})]})})}),Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"p-3 bg-light frnds",children:[Object(p.jsx)("button",{onClick:G,style:{display:(null===F||void 0===F?void 0:F._id)===(null===(v=e.user)||void 0===v?void 0:v._id)?"none":""},className:"btn btn-primary",children:B?"Unfollow":"Follow"}),Object(p.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto py-2",children:[Object(p.jsxs)("div",{style:{width:"80vw"},children:[Object(p.jsxs)("strong",{children:["About ",null===(f=e.user)||void 0===f?void 0:f.name]}),Object(p.jsx)("i",{style:{position:"relative",left:"5vw",display:(null===(O=e.user)||void 0===O?void 0:O._id)===F._id?"":"none"},type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal2",class:"far fa-edit"}),Object(p.jsx)("div",{class:"modal fade",id:"exampleModal2",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(p.jsx)("div",{class:"modal-dialog",children:Object(p.jsxs)("div",{class:"modal-content",children:[Object(p.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(p.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:Object(p.jsxs)("b",{children:["About ",null===(m=e.user)||void 0===m?void 0:m.name]})}),Object(p.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(p.jsx)("div",{class:"modal-body",children:Object(p.jsxs)("form",{onSubmit:q,children:[Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{for:"city-name",class:"col-form-label",children:Object(p.jsx)("b",{children:"City:"})}),Object(p.jsx)("input",{type:"text",class:"form-control",id:"city-name",value:V,onChange:function(e){return X(e.target.value)}})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{for:"from",class:"col-form-label",children:Object(p.jsx)("b",{children:"From:"})}),Object(p.jsx)("input",{type:"text",class:"form-control",id:"from",value:$,onChange:function(e){return Q(e.target.value)}})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{for:"relation",class:"col-form-label",children:Object(p.jsx)("b",{children:"Relationship:"})}),Object(p.jsx)("input",{type:"text",class:"form-control",id:"relation",value:se,onChange:function(e){return ne(e.target.value)}})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{for:"desc",class:"col-form-label",children:Object(p.jsx)("b",{children:"Description:"})}),Object(p.jsx)("input",{type:"text",class:"form-control",id:"desc",value:ce,onChange:function(e){return re(e.target.value)}})]}),Object(p.jsxs)("div",{class:"modal-footer",children:[Object(p.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(p.jsx)("button",{class:"btn btn-primary","data-bs-dismiss":"modal",type:"submit",children:"Save changes"})]})]})})]})})}),Object(p.jsxs)("ul",{children:[Object(p.jsxs)("li",{children:[Object(p.jsx)("b",{children:"City:"})," ",(null===(g=e.user)||void 0===g?void 0:g.city)?null===(y=e.user)||void 0===y?void 0:y.city:"Unknown"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("b",{children:"From:"})," ",(null===(w=e.user)||void 0===w?void 0:w.from)?null===(k=e.user)||void 0===k?void 0:k.from:"Unknown"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("b",{children:"Relationship Status:"})," ",(null===(C=e.user)||void 0===C?void 0:C.relationship)?(null===(S=e.user)||void 0===S?void 0:S.relationship.length)>20?null===(N=e.user)||void 0===N?void 0:N.relationship.slice(0,20):null===(_=e.user)||void 0===_?void 0:_.relationship:"Unknown"]})]})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop2",className:"btn btn-secondary",children:"Friends"}),Object(p.jsx)("div",{class:"modal fade",id:"staticBackdrop2","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(p.jsx)("div",{class:"modal-dialog",children:Object(p.jsxs)("div",{class:"modal-content",children:[Object(p.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(p.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:Object(p.jsx)("b",{children:"Friends"})}),Object(p.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(p.jsx)("div",{class:"modal-body",children:Object(p.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:null!==W?W.map((function(e){return Object(p.jsx)("li",{"data-bs-dismiss":"modal",children:Object(p.jsx)(x,{id:e})})})):Object(p.jsx)("div",{children:"No friends added"})})}),Object(p.jsx)("div",{class:"modal-footer",children:Object(p.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]})]})})]}):Object(p.jsx)("div",{})})}function O(e){var t=Object(r.useState)({}),s=Object(c.a)(t,2),n=s[0],l=s[1];return Object(r.useEffect)((function(){var t=function(){var t=Object(a.a)(i.a.mark((function t(){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("https://smart-chat15.herokuapp.com/"+"api/users/".concat(e.id));case 2:s=t.sent,l(s.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.id]),Object(p.jsxs)("div",{className:"d-flex nav-link link-dark text-decoration-none",children:[Object(p.jsx)(v.b,{to:"/profile/".concat(null===n||void 0===n?void 0:n.name),children:Object(p.jsx)("div",{style:{height:"12vw",width:"12vw",display:"flex",justifyContent:"center",alignItems:"center",border:"solid white 3px",backgroundColor:"black",overflow:"hidden",position:"relative",left:"-1.5vw"},class:"avatar rounded-circle",children:Object(p.jsx)("img",{src:(null===n||void 0===n?void 0:n.profilePicture)?null===n||void 0===n?void 0:n.profilePicture:o.a,alt:"",style:{maxHeight:"100%",maxWidth:"100%"}})})}),Object(p.jsx)("div",{style:{width:"14vw",height:"12svw",position:"relative",left:"-2.5vw",display:"flex",alignItems:"center"},children:Object(p.jsxs)("ul",{style:{listStyle:"none",fontSize:"1.3vw"},children:[Object(p.jsx)("li",{children:Object(p.jsx)("strong",{children:null===n||void 0===n?void 0:n.name})}),Object(p.jsxs)("li",{children:[Object(p.jsx)("b",{children:"City:"})," ",(null===n||void 0===n?void 0:n.city)?null===n||void 0===n?void 0:n.city:"Unknown"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("b",{children:"From:"})," ",(null===n||void 0===n?void 0:n.from)?null===n||void 0===n?void 0:n.from:"Unknown"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("b",{children:"Relationship Status:"})," ",(null===n||void 0===n?void 0:n.relationship)?null===n||void 0===n?void 0:n.relationship:"Unknown"]})]})})]})}function m(e){var t,s,n,l,o,d,u,j,v,x,f,m,g,y,w=Object(r.useContext)(h.a).user,k=Object(r.useState)(null===(t=e.user)||void 0===t?void 0:t.followers.includes(null===w||void 0===w?void 0:w._id)),C=Object(c.a)(k,2),S=C[0],N=C[1],_=Object(r.useState)(null),I=Object(c.a)(_,2),F=I[0],R=I[1];Object(r.useEffect)((function(){var t,s,n;console.log(null===w||void 0===w?void 0:w._id),console.log(null===(t=e.user)||void 0===t?void 0:t._id),console.log(null===(s=e.user)||void 0===s?void 0:s.followers.includes(null===w||void 0===w?void 0:w._id)),N(null===(n=e.user)||void 0===n?void 0:n.followers.includes(null===w||void 0===w?void 0:w._id))}),[w,null===(s=e.user)||void 0===s?void 0:s._id]),Object(r.useEffect)((function(){var t,s,n,i,a=null===(t=e.user)||void 0===t?void 0:t.following;(null===(s=e.user)||void 0===s?void 0:s.following)?a=a.concat(null===(n=e.user)||void 0===n?void 0:n.followers.filter((function(t){var s;return!(null===(s=e.user)||void 0===s?void 0:s.following.includes(t))}))):a=null===(i=e.user)||void 0===i?void 0:i.followers;0!==a.length&&R(a)}),[e.user]);var E=function(){var t=Object(a.a)(i.a.mark((function t(){var s,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S){t.next=7;break}return t.next=3,b.a.put("https://smart-chat15.herokuapp.com/"+"api/users/".concat(null===(s=e.user)||void 0===s?void 0:s._id,"/follow"),{userId:null===w||void 0===w?void 0:w._id});case 3:"you are following"===t.sent.data&&window.location.reload(),t.next=11;break;case 7:return t.next=9,b.a.put("https://smart-chat15.herokuapp.com/"+"api/users/".concat(null===(n=e.user)||void 0===n?void 0:n._id,"/unfollow"),{userId:null===w||void 0===w?void 0:w._id});case 9:"you are unfollowing"===t.sent.data&&window.location.reload();case 11:N(!S);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),U=function(){var e=Object(a.a)(i.a.mark((function e(t){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===A&&""===z&&""===G&&""===V){e.next=10;break}return e.next=4,b.a.put("https://smart-chat15.herokuapp.com/"+"api/users/".concat(null===w||void 0===w?void 0:w._id),{city:""!==A?A:w.city,from:""!==z?z:w.from,relationship:""!==G?G:w.relationship,desc:""!==V?V:w.desc});case 4:s=e.sent,D(""),M(""),q(""),X(""),"successfully updated"===s.data&&window.location.reload();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=Object(r.useState)(""),L=Object(c.a)(P,2),A=L[0],D=L[1],B=Object(r.useState)(""),T=Object(c.a)(B,2),z=T[0],M=T[1],W=Object(r.useState)(""),H=Object(c.a)(W,2),G=H[0],q=H[1],K=Object(r.useState)(""),J=Object(c.a)(K,2),V=J[0],X=J[1];return Object(p.jsxs)("div",{className:"p-3 bg-light right",children:[Object(p.jsx)("button",{onClick:E,style:{display:(null===w||void 0===w?void 0:w._id)===(null===(n=e.user)||void 0===n?void 0:n._id)?"none":""},className:"btn btn-primary",children:S?"Unfollow":"Follow"}),Object(p.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto py-2",children:[Object(p.jsxs)("div",{style:{width:"28vw"},children:[Object(p.jsxs)("strong",{children:["About ",null===(l=e.user)||void 0===l?void 0:l.name]}),Object(p.jsx)("i",{style:{position:"relative",left:"5vw",display:(null===(o=e.user)||void 0===o?void 0:o._id)===w._id?"":"none"},type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal4",class:"far fa-edit"}),Object(p.jsx)("div",{class:"modal fade",id:"exampleModal4",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(p.jsx)("div",{class:"modal-dialog",children:Object(p.jsxs)("div",{class:"modal-content",children:[Object(p.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(p.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:Object(p.jsxs)("b",{children:["About ",null===(d=e.user)||void 0===d?void 0:d.name]})}),Object(p.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(p.jsx)("div",{class:"modal-body",children:Object(p.jsxs)("form",{onSubmit:U,children:[Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{for:"city-name",class:"col-form-label",children:Object(p.jsx)("b",{children:"City:"})}),Object(p.jsx)("input",{type:"text",class:"form-control",id:"city-name",value:A,onChange:function(e){return D(e.target.value)}})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{for:"from",class:"col-form-label",children:Object(p.jsx)("b",{children:"From:"})}),Object(p.jsx)("input",{type:"text",class:"form-control",id:"from",value:z,onChange:function(e){return M(e.target.value)}})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{for:"relation",class:"col-form-label",children:Object(p.jsx)("b",{children:"Relationship:"})}),Object(p.jsx)("input",{type:"text",class:"form-control",id:"relation",value:G,onChange:function(e){return q(e.target.value)}})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{for:"desc",class:"col-form-label",children:Object(p.jsx)("b",{children:"Description:"})}),Object(p.jsx)("input",{type:"text",class:"form-control",id:"desc",value:V,onChange:function(e){return X(e.target.value)}})]}),Object(p.jsxs)("div",{class:"modal-footer",children:[Object(p.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(p.jsx)("button",{class:"btn btn-primary","data-bs-dismiss":"modal",type:"submit",children:"Save changes"})]})]})})]})})}),Object(p.jsxs)("ul",{children:[Object(p.jsxs)("li",{children:[Object(p.jsx)("b",{children:"City:"})," ",(null===(u=e.user)||void 0===u?void 0:u.city)?null===(j=e.user)||void 0===j?void 0:j.city:"Unknown"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("b",{children:"From:"})," ",(null===(v=e.user)||void 0===v?void 0:v.from)?null===(x=e.user)||void 0===x?void 0:x.from:"Unknown"]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("b",{children:"Relationship Status:"})," ",(null===(f=e.user)||void 0===f?void 0:f.relationship)?(null===(m=e.user)||void 0===m?void 0:m.relationship.length)>20?null===(g=e.user)||void 0===g?void 0:g.relationship.slice(0,20):null===(y=e.user)||void 0===y?void 0:y.relationship:"Unknown"]})]})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("strong",{style:{fontSize:"30px"},children:"Friends"}),null!==F?F.map((function(e){return Object(p.jsx)("li",{children:Object(p.jsx)(O,{id:e})})})):Object(p.jsx)("div",{children:"No friends added"})]})]})}s(55);var g=s(27),y=s.p+"static/media/cover.aa52ea16.jpg";function w(e){var t,s,n,i,a,d,j,v=Object(r.useContext)(h.a).user,x=Object(r.useState)(null),f=Object(c.a)(x,2),O=f[0],m=f[1],g=Object(r.useState)(null),w=Object(c.a)(g,2),k=w[0],C=w[1],S=Object(l.g)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"dp",children:[Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"85%",backgroundColor:"#535151"},className:"dp",children:Object(p.jsx)("img",{style:{maxWidth:"100%",height:"100%"},src:(null===(t=e.user)||void 0===t?void 0:t.coverPicture)?null===(s=e.user)||void 0===s?void 0:s.coverPicture:y,alt:""})}),Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center",position:"relative",top:"-14vw"},children:Object(p.jsx)("div",{style:{height:"20vw",width:"20vw",display:"flex",justifyContent:"center",alignItems:"center",border:"solid white 3px",backgroundColor:"black",overflow:"hidden"},class:"avatar rounded-circle",children:Object(p.jsx)("img",{src:(null===(n=e.user)||void 0===n?void 0:n.profilePicture)?null===(i=e.user)||void 0===i?void 0:i.profilePicture:o.a,alt:"",style:{maxHeight:"100%",maxWidth:"100%"}})})}),Object(p.jsx)("strong",{style:{display:"flex",justifyContent:"center",position:"relative",top:"-13vw",width:"100%"},children:null===(a=e.user)||void 0===a?void 0:a.name})]}),Object(p.jsx)("div",{className:"dp1",children:Object(p.jsx)("strong",{style:{display:"flex",justifyContent:"center",width:"100%",textAlign:"center"},children:null===(d=e.user)||void 0===d?void 0:d.desc})}),Object(p.jsxs)("div",{style:{display:(null===v||void 0===v?void 0:v._id)!==(null===(j=e.user)||void 0===j?void 0:j._id)?"none":""},className:"padding",children:[Object(p.jsxs)("div",{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:[Object(p.jsx)("i",{class:"fas fa-camera fa-2x"}),Object(p.jsx)("b",{children:" Update profile picture"})]}),Object(p.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(p.jsx)("div",{class:"modal-dialog",children:Object(p.jsxs)("div",{class:"modal-content",children:[Object(p.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(p.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:Object(p.jsx)("b",{children:"Upload profile picture"})}),Object(p.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(p.jsx)("div",{class:"modal-body",children:Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.progress(10);var s=u.ref("images/".concat(null===O||void 0===O?void 0:O.name)).put(O);e.progress(30),s.on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){u.ref("images").child(null===O||void 0===O?void 0:O.name).getDownloadURL().then((function(t){var s;e.progress(70),b.a.put("https://smart-chat15.herokuapp.com/"+"api/users/".concat(null===(s=e.user)||void 0===s?void 0:s._id),{profilePicture:t}).then(e.progress(100),S.push("/"))}))}))},children:[Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"file"}),Object(p.jsx)("input",{id:"file",type:"file",onChange:function(e){e.target.files[0]&&m(e.target.files[0])}})]}),Object(p.jsxs)("div",{class:"modal-footer",children:[Object(p.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(p.jsx)("button",{className:"btn btn-primary","data-bs-dismiss":"modal",type:"submit",disabled:null===O?"true":"",children:"Upload"})]})]})})]})})}),Object(p.jsxs)("div",{type:"button","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[Object(p.jsx)("i",{class:"fas fa-camera fa-2x"}),Object(p.jsx)("b",{children:" Update cover picture"})]}),Object(p.jsx)("div",{class:"modal fade",id:"exampleModal1",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(p.jsx)("div",{class:"modal-dialog",children:Object(p.jsxs)("div",{class:"modal-content",children:[Object(p.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(p.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:Object(p.jsx)("b",{children:"Upload cover picture"})}),Object(p.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(p.jsx)("div",{class:"modal-body",children:Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.progress(10);var s=u.ref("images/".concat(null===k||void 0===k?void 0:k.name)).put(k);e.progress(30),s.on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){u.ref("images").child(null===k||void 0===k?void 0:k.name).getDownloadURL().then((function(t){var s;e.progress(70),b.a.put("https://smart-chat15.herokuapp.com/"+"api/users/".concat(null===(s=e.user)||void 0===s?void 0:s._id),{coverPicture:t}).then(e.progress(100),S.push("/"))}))}))},children:[Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"file1"}),Object(p.jsx)("input",{id:"file1",type:"file",onChange:function(e){e.target.files[0]&&C(e.target.files[0])}})]}),Object(p.jsxs)("div",{class:"modal-footer",children:[Object(p.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(p.jsx)("button",{className:"btn btn-primary","data-bs-dismiss":"modal",type:"submit",disabled:null===k?"true":"",children:"Upload"})]})]})})]})})})]})]})}var k=s(43);function C(e){var t,s,n=Object(r.useContext)(h.a).user,l=Object(r.useState)(null),o=Object(c.a)(l,2),d=o[0],u=o[1];return Object(r.useEffect)((function(){var t=function(){var t=Object(a.a)(i.a.mark((function t(){var s,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("https://smart-chat15.herokuapp.com/"+"api/posts/all/".concat(null===(s=e.user)||void 0===s?void 0:s._id));case 3:n=t.sent,u(n.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[e.user]),Object(p.jsx)(p.Fragment,{children:(null===n||void 0===n?void 0:n._id)===(null===(t=e.user)||void 0===t?void 0:t._id)||(null===(s=e.user)||void 0===s?void 0:s.followers.includes(null===n||void 0===n?void 0:n._id))?Object(p.jsx)("div",{children:0!==(null===d||void 0===d?void 0:d.length)?Object(p.jsx)(p.Fragment,{children:null===d||void 0===d?void 0:d.map((function(e){return Object(p.jsx)(k.a,{post:e})}))}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(p.jsx)("b",{style:{fontSize:"35px",textAlign:"center"},children:"Nothing to Show"})}),Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(p.jsx)("i",{class:"fas fa-camera fa-9x"})})]})}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(p.jsx)("b",{style:{fontSize:"35px",textAlign:"center"},children:"Follow to see posts"})}),Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(p.jsx)("i",{class:"fas fa-camera-retro fa-9x"})})]})})}function S(e){var t=Object(r.useState)(null),s=Object(c.a)(t,2),n=s[0],o=s[1],d=Object(r.useContext)(h.a).user,u=Object(l.h)().username;return Object(r.useEffect)((function(){var e=function(){var e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://smart-chat15.herokuapp.com/"+"api/users/name/".concat(u));case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),window.scrollTo(0,0)}),[u]),Object(p.jsx)(p.Fragment,{children:null!==n&&null!==d?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(g.a,{}),Object(p.jsx)("div",{className:"d-flex",children:Object(p.jsxs)("div",{style:{position:"relative",top:"57px",left:"1vw"},children:[Object(p.jsx)(w,{user:n,progress:e.progress}),Object(p.jsx)(f,{user:n,progress:e.progress}),Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsx)("div",{className:"top",style:{paddingTop:"5px"},children:Object(p.jsx)(C,{user:n})}),Object(p.jsx)("div",{style:{position:"relative",top:"10px",left:"1vw"},children:Object(p.jsx)(m,{user:n})})]})]})})]}):Object(p.jsx)("div",{})})}},78:function(e,t,s){"use strict";s.d(t,"a",(function(){return g}));var n=s(1),i=s(7),a=(s(55),s(2)),c=s.n(a),r=s(6),l=s(3),o=s(4),d=s.n(o),u=s(43),j=s(9),b=s(8),h=s(0);function v(){var e=Object(n.useContext)(i.a).user,t=Object(n.useState)([]),s=Object(l.a)(t,2),a=s[0],o=s[1],v=Object(n.useState)(null),p=Object(l.a)(v,2),x=p[0],f=p[1];return Object(n.useEffect)((function(){var t=function(){var t=Object(r.a)(c.a.mark((function t(){var s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("https://smart-chat15.herokuapp.com/"+"api/posts/timeline/".concat(null===e||void 0===e?void 0:e._id));case 3:s=t.sent,f(s.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t();var s=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://smart-chat15.herokuapp.com/api/users/");case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s()}),[e]),Object(h.jsx)("div",{children:0!==(null===x||void 0===x?void 0:x.length)?Object(h.jsx)(h.Fragment,{children:null===x||void 0===x?void 0:x.map((function(e){return Object(h.jsx)(u.a,{post:e,bool:!1})}))}):Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{style:{textAlign:"center",paddingTop:"10px",paddingBottom:"10px"},children:Object(h.jsx)("h1",{children:Object(h.jsx)("b",{children:"Follow these people to see their post:-"})})}),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("ul",{className:"nav nav-pills flex-column mb-auto py-2",children:a.map((function(e){return Object(h.jsx)("li",{className:"nav-link link-dark text-decoration-none",children:Object(h.jsxs)("div",{className:"d-flex card-body",children:[Object(h.jsx)(j.b,{to:"/profile/".concat(null===e||void 0===e?void 0:e.name),children:Object(h.jsx)("div",{style:{height:"13vw",width:"13vw",display:"flex",justifyContent:"center",alignItems:"center",border:"solid white 3px",backgroundColor:"black",overflow:"hidden"},class:"avatar rounded-circle",children:Object(h.jsx)("img",{src:(null===e||void 0===e?void 0:e.profilePicture)?null===e||void 0===e?void 0:e.profilePicture:b.a,alt:"",style:{maxHeight:"100%",maxWidth:"100%"}})})}),Object(h.jsx)("div",{style:{width:"60%",height:"13vw",position:"relative",left:"3vw",display:"flex",alignItems:"center"},children:Object(h.jsxs)("ul",{style:{listStyle:"none",fontSize:"2vw"},children:[Object(h.jsx)("li",{children:Object(h.jsx)("strong",{children:null===e||void 0===e?void 0:e.name})}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"City:"})," ",(null===e||void 0===e?void 0:e.city)?null===e||void 0===e?void 0:e.city:"Unknown"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"From:"})," ",(null===e||void 0===e?void 0:e.from)?null===e||void 0===e?void 0:e.from:"Unknown"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("b",{children:"Relationship Status:"})," ",(null===e||void 0===e?void 0:e.relationship)?null===e||void 0===e?void 0:e.relationship:"Unknown"]})]})})]})})}))})})]})})}var p=s(27),x=s.p+"static/media/gift-1020-542634.2852fa24.png",f=s.p+"static/media/crowd1.7f73f4a1.jpg",O=s(38);function m(){var e=Object(n.useContext)(i.a).user,t=Object(n.useState)([]),s=Object(l.a)(t,2),a=s[0],c=s[1];return Object(n.useEffect)((function(){var t=null===e||void 0===e?void 0:e.followings;t=(null===e||void 0===e?void 0:e.followings)?t.concat(null===e||void 0===e?void 0:e.followers):null===e||void 0===e?void 0:e.followers,c(t)}),[e]),Object(h.jsx)("div",{className:"p-3 bg-light right",children:Object(h.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto",children:[Object(h.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"28vw"},children:[Object(h.jsx)("div",{style:{height:"55px",width:"50px"},children:Object(h.jsx)("img",{style:{maxHeight:"100%",maxWidth:"100%"},src:x,alt:""})}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Tarun"})," and ",Object(h.jsx)("strong",{children:"3 others"})," have birthday today!! wish them now"]})]}),Object(h.jsx)("div",{style:{width:"27vw"},children:Object(h.jsx)("img",{style:{width:"27vw",maxHeight:"30vh"},className:"img-fluid",src:f,alt:""})}),Object(h.jsx)("hr",{}),Object(h.jsx)("strong",{style:{fontSize:"4vh"},children:"Online friends"}),a&&0!==a.length&&a.map((function(e){return Object(h.jsx)(O.a,{id:e})}))]})})}function g(){Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var e=Object(n.useContext)(i.a).user;return Object(h.jsx)(h.Fragment,{children:null!==e?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(p.a,{}),Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsx)("div",{className:"top",style:{position:"relative",top:"57px",left:"1vw"},children:Object(h.jsx)(v,{})}),Object(h.jsx)("div",{style:{position:"relative",top:"65px",left:"2vw"},children:Object(h.jsx)(m,{})})]})]}):Object(h.jsx)("div",{})})}},79:function(e,t,s){"use strict";s.d(t,"a",(function(){return O}));var n=s(2),i=s.n(n),a=s(6),c=s(3),r=s(1),l=s(27),o=s(4),d=s.n(o),u=s(8),j=s(0);function b(e){var t=Object(r.useState)(null),s=Object(c.a)(t,2),n=s[0],l=s[1];return Object(r.useEffect)((function(){var t=function(){var t=Object(a.a)(i.a.mark((function t(){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("https://smart-chat15.herokuapp.com/"+"api/users/".concat(e.conversation));case 2:s=t.sent,l(s.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(j.jsxs)("div",{className:"d-flex align-items-center nav-link link-dark text-decoration-none",style:{cursor:"pointer"},children:[Object(j.jsx)("img",{src:(null===n||void 0===n?void 0:n.profilePicture)?null===n||void 0===n?void 0:n.profilePicture:u.a,alt:"",width:32,height:32,className:"rounded-circle me-2"}),Object(j.jsx)("strong",{children:null===n||void 0===n?void 0:n.name})]})}var h=s(7),v=s(46);function p(e){var t=Object(r.useState)(null),s=Object(c.a)(t,2),n=s[0],l=s[1];Object(r.useEffect)((function(){var t=function(){var t=Object(a.a)(i.a.mark((function t(){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("https://smart-chat15.herokuapp.com/"+"api/users/".concat(e.msg.sender));case 2:s=t.sent,l(s.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.msg.sender]);var o=Object(r.useContext)(h.a).user;return Object(j.jsxs)("div",{className:o._id===e.msg.sender?"mine":"other",style:{display:"block"},children:[Object(j.jsxs)("div",{style:{display:"flex"},children:[Object(j.jsx)("img",{src:(null===n||void 0===n?void 0:n.profilePicture)?null===n||void 0===n?void 0:n.profilePicture:u.a,alt:"",width:32,height:32,className:"rounded-circle me-2"}),Object(j.jsx)("div",{className:"chat",style:{height:"100%",backgroundColor:o._id!==e.msg.sender?"#afb4b8":"#0d6efd",color:o._id!==e.msg.sender?"black":"white",borderRadius:"25px"},children:Object(j.jsx)("p",{style:{position:"relative",top:"6px",left:"13px",width:"85%"},children:e.msg.text})})]}),Object(j.jsx)("small",{style:{position:"relative",left:"2.5vw"},children:Object(v.a)(e.msg.createdAt)})]})}var x=s(76),f=s(38);function O(){var e=Object(r.useState)(null),t=Object(c.a)(e,2),s=t[0],n=t[1],o=Object(r.useContext)(h.a).user,v=Object(r.useRef)(),O=Object(r.useRef)(),m=Object(r.useState)(null),g=Object(c.a)(m,2),y=(g[0],g[1]),w=Object(r.useState)(""),k=Object(c.a)(w,2),C=k[0],S=k[1],N=Object(r.useState)(null),_=Object(c.a)(N,2),I=_[0],F=_[1],R=Object(r.useState)(null),E=Object(c.a)(R,2),U=E[0],P=E[1],L=Object(r.useState)(null),A=Object(c.a)(L,2),D=A[0],B=A[1],T=Object(r.useState)(null),z=Object(c.a)(T,2),M=z[0],W=z[1],H=Object(r.useState)([]),G=Object(c.a)(H,2),q=G[0],K=G[1];Object(r.useEffect)((function(){v.current=Object(x.a)("ws://localhost:8800"),v.current.on("getMessage",(function(e){B({sender:e.senderId,text:e.text,createdAt:Date.now()})}))}),[]),Object(r.useEffect)((function(){var e;v.current.emit("addUser",null===o||void 0===o?void 0:o._id);var t=null===o||void 0===o?void 0:o.following;0!==(null===(e=t=(null===o||void 0===o?void 0:o.following)?t.concat(null===o||void 0===o?void 0:o.followers.filter((function(e){return!(null===o||void 0===o?void 0:o.following.includes(e))}))):null===o||void 0===o?void 0:o.followers)||void 0===e?void 0:e.length)&&n(t)}),[o]),Object(r.useEffect)((function(){v.current.on("getUser",(function(e){K(null===s||void 0===s?void 0:s.filter((function(t){return e.some((function(e){return e.userId===t}))})))}))}),[s]),Object(r.useEffect)((function(){D&&(null===I||void 0===I?void 0:I.members.includes(D.sender))&&W(D)}),[D,I]),Object(r.useEffect)((function(){var e=function(){var e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://smart-chat15.herokuapp.com/"+"api/conversation/".concat(null===o||void 0===o?void 0:o._id));case 2:t=e.sent,y(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[null===o||void 0===o?void 0:o._id]);var J=Object(r.useState)(null),V=Object(c.a)(J,2),X=V[0],Y=V[1];Object(r.useEffect)((function(){var e=function(){var e=Object(a.a)(i.a.mark((function e(){var t,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null===I||void 0===I?void 0:I.members.find((function(e){return e!==o._id})),e.next=3,d.a.get("https://smart-chat15.herokuapp.com/"+"api/users/".concat(t));case 3:s=e.sent,Y(s.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[I]);var Z=function(){var e=Object(a.a)(i.a.mark((function e(){var t,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I.members.find((function(e){return e!==o._id})),console.log(t),v.current.emit("sendMessage",{senderId:o._id,receiverId:t,text:C}),e.next=5,d.a.post("https://smart-chat15.herokuapp.com/api/messages",{conversationId:I._id,sender:o._id,text:C});case 5:s=e.sent,W(s.data),S("");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=function(){var e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://smart-chat15.herokuapp.com/"+"api/messages/".concat(null===I||void 0===I?void 0:I._id));case 2:t=e.sent,P(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[I,M]),Object(r.useEffect)((function(){var e;null===(e=O.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end"})}),[U]);var $=function(){var e=Object(a.a)(i.a.mark((function e(t){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://smart-chat15.herokuapp.com/"+"api/conversation/".concat(t,"/").concat(o._id));case 2:s=e.sent,F(s.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(a.a)(i.a.mark((function e(t){var s,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://smart-chat15.herokuapp.com/"+"api/conversation/".concat(t,"/").concat(o._id));case 2:if("no convo"===(s=e.sent).data){e.next=7;break}F(s.data),e.next=15;break;case 7:return e.next=9,d.a.post("https://smart-chat15.herokuapp.com/api/conversation",{senderId:o._id,receiverId:t});case 9:if(!e.sent.data){e.next=15;break}return e.next=13,d.a.get("https://smart-chat15.herokuapp.com/"+"api/conversation/".concat(t,"/").concat(o._id));case 13:n=e.sent,F(n.data);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l.a,{}),Object(j.jsxs)("div",{className:"d-flex",style:{overflowX:"hidden",overflowY:"hidden"},children:[Object(j.jsxs)("div",{className:"p-3 bg-light bar",style:{position:"relative",top:"57px"},children:[Object(j.jsx)("strong",{style:{fontSize:"25px"},children:"Conversations"}),Object(j.jsx)("hr",{}),Object(j.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:s?s.map((function(e){return Object(j.jsx)("li",{onClick:function(){return Q(e)},children:Object(j.jsx)(b,{conversation:e})})})):Object(j.jsx)("div",{children:Object(j.jsx)("b",{children:"Add friends to start conversation"})})})]}),Object(j.jsx)("div",{className:"midmessage",style:{position:"relative",top:"57px",left:"2vw"},children:Object(j.jsx)("div",{className:"card mb-3",style:{height:"97.8vh"},children:Object(j.jsx)("div",{className:"card-body",children:I?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{style:{height:"5vh",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:(null===X||void 0===X?void 0:X.profilePicture)?null===X||void 0===X?void 0:X.profilePicture:u.a,alt:"",width:32,height:32,className:"rounded-circle me-2"}),Object(j.jsx)("strong",{children:null===X||void 0===X?void 0:X.name})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"arrow",style:{cursor:"pointer",paddingRight:"20px"},type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:Object(j.jsx)("i",{class:"fas fa-arrow-down"})}),Object(j.jsx)("div",{className:"online",style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop1",children:Object(j.jsx)("i",{class:"fas fa-blog"})})]}),Object(j.jsx)("div",{class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(j.jsx)("div",{class:"modal-dialog",children:Object(j.jsxs)("div",{class:"modal-content",children:[Object(j.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(j.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:Object(j.jsx)("b",{children:"Converations"})}),Object(j.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{class:"modal-body",children:Object(j.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:s?s.map((function(e){return Object(j.jsx)("li",{"data-bs-dismiss":"modal",onClick:function(){return Q(e)},children:Object(j.jsx)(b,{conversation:e})})})):Object(j.jsx)("div",{children:Object(j.jsx)("b",{children:"Add friends to start conversation"})})})}),Object(j.jsx)("div",{class:"modal-footer",children:Object(j.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})}),Object(j.jsx)("div",{class:"modal fade",id:"staticBackdrop1","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(j.jsx)("div",{class:"modal-dialog",children:Object(j.jsxs)("div",{class:"modal-content",children:[Object(j.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(j.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:Object(j.jsx)("b",{children:"Online Users"})}),Object(j.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{class:"modal-body",children:Object(j.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:q&&0!==q.length?q.map((function(e){return Object(j.jsx)("li",{"data-bs-dismiss":"modal",onClick:function(){return $(e)},style:{cursor:"pointer"},children:Object(j.jsx)(f.a,{id:e})})})):Object(j.jsx)("div",{children:Object(j.jsx)("b",{children:"No one is online"})})})}),Object(j.jsx)("div",{class:"modal-footer",children:Object(j.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{className:"textheight",style:{overflowY:"scroll",overflowX:"hidden"},children:Object(j.jsx)("div",{ref:O,children:U&&U.map((function(e){return Object(j.jsx)(p,{msg:e})}))})}),Object(j.jsxs)("div",{style:{display:"flex",position:"absolute",bottom:"50px",width:"100%"},children:[Object(j.jsx)("textarea",{className:"textwidth",placeholder:"Write something....",style:{resize:"none",height:"20vh",borderRadius:"5px"},value:C,onChange:function(e){return S(e.target.value)}}),Object(j.jsx)("button",{type:"button",className:"btn btn-success buttonwidth",style:{height:"40px",position:"relative",left:"3px"},disabled:""===C?"true":"",onClick:Z,children:"Send"})]})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"arrow",style:{cursor:"pointer"},type:"button","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:Object(j.jsx)("i",{class:"fas fa-arrow-down"})}),Object(j.jsx)("div",{class:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(j.jsx)("div",{class:"modal-dialog",children:Object(j.jsxs)("div",{class:"modal-content",children:[Object(j.jsxs)("div",{class:"modal-header",style:{color:"white",backgroundColor:"black"},children:[Object(j.jsx)("h5",{class:"modal-title",id:"staticBackdropLabel",children:Object(j.jsx)("b",{children:"Coverations"})}),Object(j.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{class:"modal-body",children:Object(j.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:s?s.map((function(e){return Object(j.jsx)("li",{"data-bs-dismiss":"modal",onClick:function(){return Q(e)},children:Object(j.jsx)(b,{conversation:e})})})):Object(j.jsx)("div",{children:Object(j.jsx)("b",{children:"Add friends to start conversation"})})})}),Object(j.jsx)("div",{class:"modal-footer",children:Object(j.jsx)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})}),Object(j.jsx)("div",{style:{fontSize:"40px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",height:"85vh"},children:Object(j.jsx)("strong",{children:"Open a conversation to start chat"})})]})})})}),Object(j.jsxs)("div",{className:"tar",style:{position:"relative",top:"65px",left:"4vw",width:"22vw"},children:[Object(j.jsx)("strong",{style:{fontSize:"30px"},children:"Online friends"}),Object(j.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto",children:[Object(j.jsx)("hr",{}),q&&0!==q.length?q.map((function(e){return Object(j.jsx)("li",{onClick:function(){return $(e)},style:{cursor:"pointer"},children:Object(j.jsx)(f.a,{id:e})})})):Object(j.jsx)("div",{children:Object(j.jsx)("b",{children:"No one is online"})})]})]})]})]})}},8:function(e,t,s){"use strict";t.a=s.p+"static/media/user.2fda6558.png"},80:function(e,t,s){"use strict";s.d(t,"a",(function(){return h}));var n=s(1),i=s(2),a=s.n(i),c=s(6),r=s(4),l=s.n(r),o=function(){var e=Object(c.a)(a.a.mark((function e(t,s){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"LOGIN_START"}),e.prev=1,e.next=4,l.a.post("https://smart-chat15.herokuapp.com/api/auth/login",t);case 4:n=e.sent,s({type:"LOGIN_SUCCESS",payload:n.data.user}),sessionStorage.setItem("token",n.data.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:"LOGIN_FAILURE",payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,s){return e.apply(this,arguments)}}(),d=s(7),u=s(130),j=s(9),b=s(0);function h(){var e=Object(n.useRef)(),t=Object(n.useRef)(),s=Object(n.useContext)(d.a),i=(s.user,s.isFetching),a=(s.error,s.dispatch);return Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"rgb(198 195 195)"},children:[Object(b.jsxs)("div",{className:"responsive",children:[Object(b.jsx)("strong",{style:{fontSize:"70px"},children:Object(b.jsx)("span",{className:"badge bg-primary",children:"Smart-Chats"})}),Object(b.jsx)("p",{style:{fontSize:"25px",width:"25vw"},children:Object(b.jsx)("b",{children:" Connect with friends around world and chat with them."})})]}),Object(b.jsx)("div",{className:"w1",style:{backgroundColor:"white",position:"relative",left:"1vw",border:"solid #fcfaf8 1px",borderRadius:"10px"},children:Object(b.jsxs)("form",{action:"",className:"w1",style:{position:"relative",paddingBottom:"90px"},onSubmit:function(s){s.preventDefault(),o({email:e.current.value,password:t.current.value},a)},children:[Object(b.jsx)("input",{type:"email",required:!0,style:{width:"90%",height:" 50px ",position:"relative",top:"15px",borderRadius:"10px",border:"solid #cfc9c9 2px"},placeholder:"Email",ref:e}),Object(b.jsx)("input",{type:"password",required:!0,style:{width:"90%",height:" 50px ",position:"relative",top:"30px",borderRadius:"10px",border:"solid #cfc9c9 2px"},minLength:"6",placeholder:"Password",ref:t}),Object(b.jsx)("div",{style:{width:"90%",height:"25px"},children:Object(b.jsx)("p",{style:{display:"flex",justifyContent:"center",position:"relative",top:"45px",color:"#1877f2"},children:Object(b.jsx)("b",{children:"Forgot Password?"})})}),Object(b.jsx)("button",{className:"btn btn-primary",type:"submit",style:{width:"90%",height:" 50px ",position:"relative",top:"60px",borderRadius:"10px"},children:Object(b.jsx)("b",{children:i?Object(b.jsx)(u.a,{color:"inherit",size:"4vh"}):"Log In"})}),Object(b.jsx)("div",{style:{width:"90%",display:"flex",justifyContent:"center",position:"relative",top:"75px",textAlign:"center"},children:Object(b.jsxs)("b",{children:["Don't have an account?",Object(b.jsx)(j.b,{to:"/signup",children:"Create Account"})]})})]})})]})}},86:function(e,t,s){},88:function(e,t,s){},89:function(e,t,s){}},[[122,1,2]]]);
//# sourceMappingURL=main.671789bb.chunk.js.map